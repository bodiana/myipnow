<!DOCTYPE html>

<html lang="en">
<head>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T6F8FV6T');</script>
<meta charset="utf-8"/>
<meta content="/width=device-width, initial-scale=1.0" name="viewport"/>
<title>Does a VPN Hide Your IP Address?. | MyIPNow</title>
<meta content="/Does a VPN Hide Your IP Address?. | MyIPNow" property="og:title"/>
<meta content="/Does a VPN Hide Your IP Address?. Learn more with MyIPNow. Accurate, fast, and privacy-focused internet tools" property="og:description"/>
<meta content="/website" property="og:type"/>
<meta content="/preview.png" property="og:image"/>
<meta content="https://myipnow.net/does-vpn-hide-ip-address" property="og:url"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<style>body {font-family: 'Inter', sans-serif; background: #f7f8f9; margin: 0; color: #1e293b; line-height: 1.7;}
    .container {max-width: 900px; margin: 0 auto; padding: 1rem;}
    .site-header {background: #fff; padding: 1rem; margin-bottom: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);}
    .header-top {display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e2e8f0;}
    .logo {font-size: 1.5rem; font-weight: 700; color: #1e293b; text-decoration: none;}
    .search-form {display: flex; flex-grow: 1; max-width: 400px;}
    .search-form input {width: 100%; padding: 0.75rem 1rem; border: 1px solid #e2e8f0; border-radius: 8px 0 0 8px; font-size: 0.9rem;}
    .search-form button {padding: 0.75rem 1rem; border: none; background: #10b981; color: white; border-radius: 0 8px 8px 0; cursor: pointer; font-weight: 500;}
    .category-nav {padding-top: 1rem;}
    .category-nav ul {display: flex; gap: 1.5rem; list-style: none; margin: 0; padding: 0; align-items: center; flex-wrap: wrap; justify-content: center !important;}

.nav-tools {position: relative;}
.nav-tools > a {cursor: default;}
.nav-tools ul {display: none; position: absolute; top: 100%; left: 0; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
.nav-tools ul li a {display: block; padding: .5rem 1rem; color: #1e293b; text-decoration: none;}
.nav-tools ul li a:hover {color: #4f46e5;}
.nav-tools:hover ul {display: block;}


@media(max-width:768px){.category-nav ul {
    overflow-x: auto; white-space: nowrap; padding-bottom: 10px;}

.nav-tools {position: relative;}
.nav-tools > a {cursor: default;}
.nav-tools ul {display: none; position: absolute; top: 100%; left: 0; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
.nav-tools ul li a {display: block; padding: .5rem 1rem; color: #1e293b; text-decoration: none;}
.nav-tools ul li a:hover {color: #4f46e5;}
.nav-tools:hover ul {display: block;}

}

.category-nav a {text-decoration: none; color: var(--text-primary); font-size: 0.9rem; font-weight: 500; transition: color var(--transition-speed);}

.category-nav a:hover {color: var(--accent-color);}
    .page-header {background: #fff; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem; text-align: center;}
    .page-header h1 {font-size: 2.2rem; margin: 0 0 0.5rem;}
    .page-header p {font-size: 1rem; color: #64748b; margin: 0;}
    .article-body {background: #fff; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem;}
    .article-body h2 {margin-top: 2rem; font-size: 1.5rem;}
    .article-body h3 {margin-top: 1.2rem; font-size: 1.2rem;}
    .related {background: #fff; padding: 1.5rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem;}
    .related h3 {margin-top: 0;}
    .related ul {list-style: none; padding: 0;}
    .related li {margin-bottom: 0.5rem;}
    .related a {text-decoration: none; color: #4f46e5;}
    .article-pagination {display: flex; justify-content: space-between; gap: 1rem; margin-bottom: 2rem;}
    .article-pagination a {background: #fff; padding: 0.75rem 1rem; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-decoration: none; color: #1e293b; font-weight: 500;}
    .article-pagination a:hover {background: #4f46e5; color: white;}
    .footer {text-align: center; padding: 2rem 1rem; margin: 2rem auto 0; background: #fff; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);}
    .footer-nav {display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem 1.5rem; list-style: none; padding: 0; margin: 0 0 1rem;}
    .footer-nav a {color: #64748b; text-decoration: none; font-size: 0.9rem;}
    .footer-nav a:hover {color: #4f46e5;}
    .footer-copyright {font-size: 0.85rem; color: #64748b;}
   

.related-grid {display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1rem;}
.related-card {display: flex; flex-direction: column; background: #f9fafb; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.05); transition: transform 0.2s ease;}
.related-card:hover {transform: translateY(-4px);}
.related-card img {width: 100%; height: 140px; object-fit: cover;}
.related-card-content {padding: 1rem;}
.related-card-content h4 {margin: 0 0 0.5rem; font-size: 1rem;}
.related-card-content p {font-size: 0.9rem; color: #64748b; margin: 0;}
.related-card-content a {text-decoration: none; color: #4f46e5; font-weight: 600;}
.related-card-content a:hover {color: #1e293b;}</style>
<style>.nav {text-align: center !important;}
.nav li {display: inline-block !important; float: none !important;}</style>
<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1226342433058379"></script>
<style>@media (max-width: 768px) {.category-nav {
    overflow-x: auto; -webkit-overflow-scrolling: touch; scroll-behavior: smooth; padding-bottom: 10px;}
  .category-nav ul {display: inline-flex; flex-wrap: nowrap; white-space: nowrap; gap: 1.2rem; list-style: none; margin: 0; padding: 0 1rem;}
  .category-nav::-webkit-scrollbar {height: 6px;}
  .category-nav::-webkit-scrollbar-thumb {background: #cbd5e1; border-radius: 4px;}
  .nav-tools ul {display: none; position: absolute; top: 100%; left: 0; right: auto; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
  .nav-tools.open ul {display: block;}
}</style>
<style>@media (max-width: 768px) {.nav-tools {
    position: static !important;}
  .nav-tools ul {position: fixed !important; top: 60px !important; left: 10px; right: 10px; display: none; background: #fff; border: 1px solid #e2e8f0; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); z-index: 10000;}
  .nav-tools.open ul {display: block !important;}
  body.menu-open {overflow: hidden;}
}</style>
<link href="https://myipnow.net/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="https://myipnow.net/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="https://myipnow.net/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
<link href="https://myipnow.net/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="https://myipnow.net/android-chrome-192x192.png" rel="icon" sizes="192x192" type="image/png"/>
<link href="https://myipnow.net/android-chrome-512x512.png" rel="icon" sizes="512x512" type="image/png"/>
<link href="https://myipnow.net/favicon.ico" rel="shortcut icon"/>
<meta content="#ffffff" name="theme-color"/>
<meta content="/Does a VPN Hide Your IP Address?. Learn more with MyIPNow. Accurate, fast, and privacy-focused internet tools" name="description"/>
<link href="https://myipnow.net/does-vpn-hide-ip-address" rel="canonical"/>
<script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"Organization","name":"MyIPNow","url":"https://myipnow.net/","logo":{"@type":"ImageObject","url":"https://myipnow.net/favicon-96x96.png"}},{"@type":"WebSite","name":"MyIPNow","url":"https://myipnow.net/"},{"@type":"WebPage","name":"Does a VPN Hide Your IP Address?. | MyIPNow","description":"Does a VPN Hide Your IP Address?. Learn more with MyIPNow. Accurate, fast, and privacy-focused internet tools.","url":"https://myipnow.net/does-vpn-hide-ip-address/","inLanguage":"en","mainEntityOfPage":"https://myipnow.net/does-vpn-hide-ip-address/","@id":"https://myipnow.net/does-vpn-hide-ip-address/"},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://myipnow.net/"},{"@type":"ListItem","position":2,"name":"Does a VPN Hide Your IP Address?. | MyIPNow","item":"https://myipnow.net/does-vpn-hide-ip-address/"}]},{"@type":"FAQPage","mainEntity":[{"@type":"Question","name":"Can a website still detect my location if I use a VPN?","acceptedAnswer":{"@type":"Answer","text":"Websites can estimate your location based on the VPN server‚Äôs IP address, which may reveal the server‚Äôs geographic region. However, your actual physical location remains hidden unless you provide location data through other means like GPS or browser permissions."}},{"@type":"Question","name":"Does using a VPN guarantee complete anonymity?","acceptedAnswer":{"@type":"Answer","text":"No. While a VPN hides your IP and encrypts traffic, complete anonymity requires additional measures such as using privacy-focused browsers, avoiding account logins, and preventing browser fingerprinting."}},{"@type":"Question","name":"Can my ISP see my IP if I use a VPN?","acceptedAnswer":{"@type":"Answer","text":"Your ISP can see that you are connected to a VPN server but cannot see the websites you visit or your real IP address beyond the VPN connection."}},{"@type":"Question","name":"Are free VPNs effective at hiding my IP address?","acceptedAnswer":{"@type":"Answer","text":"Many free VPNs have limitations such as data caps, slower speeds, and questionable privacy policies. They may not reliably hide your IP or protect your data, so using a reputable paid VPN is recommended."}},{"@type":"Question","name":"How do I know if my VPN is leaking my IP address?","acceptedAnswer":{"@type":"Answer","text":"You can use online tools to perform DNS, WebRTC, and IPv6 leak tests. If your real IP appears during these tests, your VPN is leaking and needs reconfiguration or replacement."}}]}]}</script>
</head>
<body>
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns?id=GTM-T6F8FV6T" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<div class="container"><header class="site-header">
<div class="header-top">
<a class="logo" href="https://myipnow.net/">üåê MyIPNow</a>
<form action="/search.html" class="search-form" method="get">
<input aria-label="Search articles" name="q" placeholder="Search..." type="search"/>
<button type="submit">Search</button>
</form>
</div>
<nav aria-label="Article Categories" class="category-nav">
<ul>
<li class="nav-tools"><a href="https://myipnow.net/#">Tools ‚ñæ</a>
<ul>
<li><a href="https://myipnow.net/">IP Lookup</a></li>
<li><a href="https://myipnow.net/dns-lookup">DNS Lookup</a></li>
<li><a href="https://myipnow.net/whois-lookup">WHOIS Lookup</a></li>
<li><a href="https://myipnow.net/internet-speed-test">Internet Speed Test</a></li>
<li><a href="https://myipnow.net/generate-password">Generate Password</a></li>
<li><a href="https://myipnow.net/ip-blacklist">IP Blacklist</a></li>
</ul>
</li>
<li><a href="https://myipnow.net/online-safety/">Online Safety</a></li>
<li><a href="https://myipnow.net/online-privacy/">Online Privacy</a></li>
<li><a href="https://myipnow.net/networking/">Networking</a></li>
<li><a href="https://myipnow.net/ip-addresses/">IP Addresses</a></li>
<li><a href="https://myipnow.net/home-computing/">Home Computing</a></li>
<li><a href="https://myipnow.net/general-topics/">General Topics</a></li>
</ul>
</nav>
</header>
<header class="page-header">
<h1>Does a VPN Hide Your IP Address?</h1>
</header>
<article class="article-body"><h2>Direct Answer: Does a VPN Hide Your IP Address?</h2>
<p>Yes, a Virtual Private Network (VPN) hides your real IP address by routing your internet traffic through an intermediary server, effectively masking your original IP with the server‚Äôs IP. This process prevents websites, online services, and potential adversaries from directly seeing your true IP address, enhancing your online privacy and security. However, the extent to which your IP is hidden depends on the VPN‚Äôs technology, configuration, and the context in which it is used.</p>
<h2>Understanding IP Addresses and Their Importance</h2>
<p>An IP address is a unique identifier assigned to your device when it connects to the internet. It functions like a digital home address, enabling communication between your device and online servers. Your IP address reveals your approximate geographic location and can be used to track your online activities.</p>
<p>Because of this, many users seek tools to conceal their IP address to protect their privacy, avoid geo-restrictions, or prevent tracking by advertisers and malicious actors.</p>
<h2>How a VPN Hides Your IP Address</h2>
<p>A VPN creates an encrypted tunnel between your device and a VPN server. When you connect to the internet through this tunnel, your traffic appears to originate from the VPN server‚Äôs IP address, not your own. This is the fundamental mechanism by which a VPN hides your IP address.</p>
<ul>
<li><strong>Encryption:</strong> VPNs encrypt your data, preventing intermediaries like ISPs or hackers from intercepting your traffic.</li>
<li><strong>IP Masking:</strong> The VPN server replaces your real IP with its own, so destination websites see the VPN server‚Äôs IP.</li>
<li><strong>Traffic Routing:</strong> Your internet requests are routed through the VPN server, which forwards them to the target website.</li>
</ul>
<p>By using a <a href="https://myipnow.net/hide-my-ip">VPN to protect your IP address</a>, you effectively shield your real IP from external observers, enhancing anonymity and security.</p>
<h2>Technical Details: What Happens Behind the Scenes?</h2>
<p>When you activate a VPN client on your device, it establishes a secure connection to a VPN server. This connection uses protocols such as OpenVPN, WireGuard, or IKEv2, which provide encryption and authentication.</p>
<p>Once connected, your device‚Äôs network traffic is encapsulated within this encrypted tunnel. The VPN server decrypts the traffic and forwards it to the intended destination. To the destination server, the request appears to come from the VPN server‚Äôs IP address, not your device‚Äôs original IP.</p>
<p>This process effectively hides your IP address from:</p>
<ul>
<li>Websites and online services</li>
<li>Internet Service Providers (ISPs)</li>
<li>Network administrators</li>
<li>Potential attackers monitoring your network</li>
</ul>
<h2>Limitations and Considerations When Using a VPN</h2>
<p>While VPNs are effective at hiding your IP address, there are important limitations and considerations to keep in mind:</p>
<ul>
<li><strong>VPN Server Logs:</strong> Some VPN providers keep logs of user activity, which can potentially be used to trace your real IP address if subpoenaed or compromised.</li>
<li><strong>IP Leaks:</strong> Misconfigurations or software bugs can cause your real IP to leak through DNS leaks, WebRTC leaks, or IPv6 leaks.</li>
<li><strong>VPN Trustworthiness:</strong> The VPN provider itself can see your real IP and traffic metadata, so choosing a reputable, no-logs VPN is critical.</li>
<li><strong>Shared IP Addresses:</strong> Many VPNs assign shared IPs to multiple users, which can enhance anonymity but may cause issues with some services that block VPN IPs.</li>
<li><strong>Performance Impact:</strong> Routing traffic through a VPN server can introduce latency and reduce speeds.</li>
</ul>
<h2>When Does a VPN Not Hide Your IP Address?</h2>
<p>There are scenarios where a VPN may fail to hide your IP address effectively:</p>
<ul>
<li><strong>VPN Disconnection:</strong> If the VPN connection drops and there is no kill switch enabled, your device may revert to using the regular internet connection, exposing your real IP.</li>
<li><strong>Improper Configuration:</strong> Incorrect VPN setup can lead to leaks or failure to route all traffic through the VPN tunnel.</li>
<li><strong>Application-Level Leaks:</strong> Some applications may bypass the VPN tunnel, exposing your IP.</li>
<li><strong>Browser Vulnerabilities:</strong> Technologies like WebRTC can reveal your IP even when connected to a VPN unless properly mitigated.</li>
</ul>
<p>To mitigate these risks, users should configure their VPN clients correctly, enable kill switches, and test for leaks regularly using tools like an <a href="https://myipnow.net/">IP address checker</a>.</p>
<h2>VPN vs. Proxy: Differences in IP Address Hiding</h2>
<p>While both VPNs and proxies can mask your IP address, they differ significantly in security and functionality:</p>
<ul>
<li><strong>Encryption:</strong> VPNs encrypt all your traffic, proxies typically do not.</li>
<li><strong>Scope:</strong> VPNs route all device traffic, proxies usually only route traffic from specific applications or browsers.</li>
<li><strong>Privacy:</strong> VPNs provide stronger privacy guarantees due to encryption and no-logs policies.</li>
</ul>
<p>For comprehensive IP hiding and security, a VPN is generally the superior choice.</p>
<h2>Choosing the Right VPN to Hide Your IP</h2>
<p>Not all VPNs are created equal. To effectively use a <a href="https://myipnow.net/hide-my-ip">VPN to hide your IP</a>, consider the following factors:</p>
<ul>
<li><strong>No-logs policy:</strong> Ensures the provider does not store identifiable user data.</li>
<li><strong>Strong encryption protocols:</strong> Look for OpenVPN, WireGuard, or IKEv2 support.</li>
<li><strong>Leak protection:</strong> DNS, IPv6, and WebRTC leak prevention features.</li>
<li><strong>Kill switch:</strong> Automatically blocks internet traffic if the VPN disconnects.</li>
<li><strong>Server network:</strong> A wide range of server locations to avoid congestion and improve performance.</li>
<li><strong>Reputation and transparency:</strong> Providers with independent audits and positive user reviews.</li>
</ul>
<h2>Testing Your VPN‚Äôs Effectiveness</h2>
<p>After connecting to a VPN, it is essential to verify that your IP address is indeed hidden. You can do this by using an <a href="https://myipnow.net/">IP address checker</a> to confirm the visible IP matches the VPN server‚Äôs IP, not your real one.</p>
<p>Additionally, perform leak tests for DNS, WebRTC, and IPv6 to ensure no accidental exposure of your real IP address.</p>
<h3>Summary</h3>
<p>A VPN is a powerful tool to hide your IP address by routing your internet traffic through an encrypted tunnel and replacing your real IP with that of the VPN server. However, its effectiveness depends on the VPN provider‚Äôs policies, technical implementation, and user configuration. Properly used, a VPN significantly enhances your online privacy and security.</p>
<h2>FAQ</h2>
<h3>Can a website still detect my location if I use a VPN?</h3>
<p>Websites can estimate your location based on the VPN server‚Äôs IP address, which may reveal the server‚Äôs geographic region. However, your actual physical location remains hidden unless you provide location data through other means like GPS or browser permissions.</p>
<h3>Does using a VPN guarantee complete anonymity?</h3>
<p>No. While a VPN hides your IP and encrypts traffic, complete anonymity requires additional measures such as using privacy-focused browsers, avoiding account logins, and preventing browser fingerprinting.</p>
<h3>Can my ISP see my IP if I use a VPN?</h3>
<p>Your ISP can see that you are connected to a VPN server but cannot see the websites you visit or your real IP address beyond the VPN connection.</p>
<h3>Are free VPNs effective at hiding my IP address?</h3>
<p>Many free VPNs have limitations such as data caps, slower speeds, and questionable privacy policies. They may not reliably hide your IP or protect your data, so using a reputable paid VPN is recommended.</p>
<h3>How do I know if my VPN is leaking my IP address?</h3>
<p>You can use online tools to perform DNS, WebRTC, and IPv6 leak tests. If your real IP appears during these tests, your VPN is leaking and needs reconfiguration or replacement.</p><section class="see-also"><h2>See Also</h2><ul><li><a href="https://myipnow.net/vpn-for-public-wifi">VPN For Public Wifi</a></li><li><a href="https://myipnow.net/what-is-a-vpn">What Is A VPN</a></li><li><a href="https://myipnow.net/how-does-a-vpn-work">How Does A VPN Work</a></li><li><a href="https://myipnow.net/vpn-vs-tor">VPN Vs Tor</a></li><li><a href="https://myipnow.net/vpn-vs-proxy">VPN Vs Proxy</a></li></ul></section></article><footer class="footer">
<ul class="footer-nav">
<li>
<a href="https://myipnow.net/about">
       About
      </a>
</li>
<li>
<a href="https://myipnow.net/contact">
       Contact
      </a>
</li>
<li>
<a href="https://myipnow.net/privacy-policy">
       Privacy Policy
      </a>
</li>
<li>
<a href="https://myipnow.net/terms-of-use">
       Terms of Use
      </a>
</li>
<li>
<a href="https://myipnow.net/affiliate-disclosure">
       Affiliate Disclosure
      </a>
</li>
</ul>
<div class="footer-copyright">
     ¬© 2026 MyIPNow. All Rights Reserved.
    </div>
</footer></div>
<script id="article-return-v3">
(function(){
  var KEY='catStateV3'; // { url, scroll }
  var CAT_RE=/^\/(online-safety|online-privacy|networking|ip-addresses|home-computing|general-topics)\//;

  function init(){
    var btn = document.getElementById('returnToCategory');
    if (!btn) return;

    var raw = null, url=null;
    try {
      raw = sessionStorage.getItem(KEY);
      if (raw){
        var st = JSON.parse(raw);
        url = st && st.url;
      }
    } catch(e){}

    // If we have a stored category URL, use it
    if (url && CAT_RE.test(url)) {
      btn.setAttribute('href', url);
      return;
    }

    // Fallback: deduce category from article path and use /<cat>/index
    var parts = location.pathname.split('/').filter(Boolean);
    if (parts.length > 0) {
      var cat = '/' + parts[0] + '/';
      if (CAT_RE.test(cat)) {
        btn.setAttribute('href', cat + 'index');
      }
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>
<script id="mobile-header-fix-final">
(function(){
  const tools = document.querySelector('.nav-tools');
  if(!tools) return;
  const trigger = tools.querySelector(':scope > a');
  const dropdown = tools.querySelector(':scope > ul');
  if(!trigger || !dropdown) return;

  let menu=null, backdrop=null, open=false;

  // Desktop hover
  tools.addEventListener('mouseenter',()=>{ if(window.innerWidth>768) dropdown.style.display='block'; });
  tools.addEventListener('mouseleave',()=>{ if(window.innerWidth>768) dropdown.style.display='none'; });

  function closeMenu(){
    if(menu){ menu.remove(); menu=null; }
    if(backdrop){ backdrop.remove(); backdrop=null; }
    dropdown.style.display='none';
    document.body.classList.remove('menu-open');
    open=false;
  }

  function openMenu(e){
    e.preventDefault(); e.stopPropagation();
    if(window.innerWidth>768) return;

    dropdown.style.display='none'; // hide original header dropdown

    if(open){ closeMenu(); return; }

    const rect = trigger.getBoundingClientRect();
    backdrop = document.createElement('div');
    Object.assign(backdrop.style,{
      position:'fixed',top:0,left:0,width:'100vw',height:'100vh',
      background:'transparent',zIndex:9998
    });
    backdrop.addEventListener('click', closeMenu);
    document.body.appendChild(backdrop);

    menu = dropdown.cloneNode(true);
    Object.assign(menu.style,{
      position:'absolute',
      top:`${rect.bottom + window.scrollY + 8}px`,
      left:`${rect.left + window.scrollX}px`,
      minWidth:`${Math.max(rect.width,200)}px`,
      background:'#fff',
      border:'1px solid #e2e8f0',
      borderRadius:'10px',
      boxShadow:'0 10px 30px rgba(0,0,0,0.15)',
      listStyle:'none',
      padding:'.5rem 0',
      margin:0,
      zIndex:9999,
      maxHeight:'70vh',
      overflowY:'auto',
      display:'block',        /* ‚úÖ ensures visible */
      visibility:'visible',   /* ‚úÖ fixes Safari hover ghost */
      opacity:'1'             /* ‚úÖ fully visible */
    });
    menu.querySelectorAll('a').forEach(a=>{
      a.style.display='block';
      a.style.padding='.6rem 1.2rem';
      a.style.color='#1e293b';
      a.style.textDecoration='none';
      a.style.fontWeight='500';
      a.addEventListener('mouseenter',()=>a.style.color='#4f46e5');
      a.addEventListener('mouseleave',()=>a.style.color='#1e293b');
    });

    document.body.appendChild(menu);
    document.body.classList.add('menu-open');
    open=true;
  }

  window.addEventListener('scroll',()=>{ if(!open||!menu)return;
    const rect=trigger.getBoundingClientRect();
    menu.style.top=`${rect.bottom + window.scrollY + 8}px`;
    menu.style.left=`${rect.left + window.scrollX}px`;
  });
  window.addEventListener('resize',closeMenu);
  trigger.addEventListener('click',openMenu);
  trigger.addEventListener('touchstart',openMenu,{passive:false});
})();
</script>
</body>
</html>