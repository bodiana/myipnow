<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>
   Troubleshooting Packet Sniffing: Common Issues and Quick Fixes. | MyIPNow
  </title>
<meta content="Learn about Troubleshooting Packet Sniffing: Common Issues and Quick Fixes. in this detailed guide on Home Computing." name="description"/>
<link href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;🌐&lt;/text&gt;&lt;text y=%22.9em%22 x=%2228%22 font-size=%2255%22&gt;📍&lt;/text&gt;&lt;/svg&gt;" rel="icon"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<style>
    body { font-family: 'Inter', sans-serif; background:#f7f8f9; margin:0; color:#1e293b; line-height:1.7; }
    .container { max-width:900px; margin:0 auto; padding:1rem; }
    .site-header { background:#fff; padding:1rem; margin-bottom:2rem; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); }
    .header-top { display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:1rem; padding-bottom:1rem; border-bottom:1px solid #e2e8f0; }
    .logo { font-size:1.5rem; font-weight:700; color:#1e293b; text-decoration:none; }
    .search-form { display:flex; flex-grow:1; max-width:400px; }
    .search-form input { width:100%; padding:0.75rem 1rem; border:1px solid #e2e8f0; border-radius:8px 0 0 8px; font-size:0.9rem; }
    .search-form button { padding:0.75rem 1rem; border:none; background:#10b981; color:white; border-radius:0 8px 8px 0; cursor:pointer; font-weight:500; }
    .category-nav { padding-top:1rem; }
    .category-nav ul {
  display:flex;
  gap:1.5rem;
  list-style:none;
  margin:0;
  padding:0;
  align-items:center;
  flex-wrap:wrap;
  justify-content:center !important;
}

.nav-tools { position: relative; }
.nav-tools > a { cursor: default; }
.nav-tools ul {
  display: none;
  position:absolute;
  top:100%;
  left:0;
  background:#fff;
  border:1px solid #e2e8f0;
  border-radius:8px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
  list-style:none;
  padding:.5rem 0;
  margin:0;
  min-width:220px;
  z-index:999;
}
.nav-tools ul li a {
  display:block;
  padding:.5rem 1rem;
  color:#1e293b;
  text-decoration:none;
}
.nav-tools ul li a:hover { color:#4f46e5; }
.nav-tools:hover ul { display:block; }


@media(max-width:768px){
  .category-nav ul {
    overflow-x:auto;
    white-space:nowrap;
    padding-bottom:10px;
  }

.nav-tools { position: relative; }
.nav-tools > a { cursor: default; }
.nav-tools ul {
  display: none;
  position:absolute;
  top:100%;
  left:0;
  background:#fff;
  border:1px solid #e2e8f0;
  border-radius:8px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
  list-style:none;
  padding:.5rem 0;
  margin:0;
  min-width:220px;
  z-index:999;
}
.nav-tools ul li a {
  display:block;
  padding:.5rem 1rem;
  color:#1e293b;
  text-decoration:none;
}
.nav-tools ul li a:hover { color:#4f46e5; }
.nav-tools:hover ul { display:block; }

}

.category-nav a {
  text-decoration: none;
  color: var(--text-primary);
  font-size: 0.9rem;
  font-weight: 500;
  transition: color var(--transition-speed);
}

.category-nav a:hover {
  color: var(--accent-color);
}
    .page-header { background:#fff; padding:2rem; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); margin-bottom:2rem; text-align:center; }
    .page-header h1 { font-size:2.2rem; margin:0 0 0.5rem; }
    .page-header p { font-size:1rem; color:#64748b; margin:0; }
    .article-body { background:#fff; padding:2rem; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); margin-bottom:2rem; }
    .article-body h2 { margin-top:2rem; font-size:1.5rem; }
    .article-body h3 { margin-top:1.2rem; font-size:1.2rem; }
    .related { background:#fff; padding:1.5rem; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); margin-bottom:2rem; }
    .related h3 { margin-top:0; }
    .related ul { list-style:none; padding:0; }
    .related li { margin-bottom:0.5rem; }
    .related a { text-decoration:none; color:#4f46e5; }
    .article-pagination { display:flex; justify-content:space-between; gap:1rem; margin-bottom:2rem; }
    .article-pagination a { background:#fff; padding:0.75rem 1rem; border-radius:8px; box-shadow:0 4px 10px rgba(0,0,0,0.05); text-decoration:none; color:#1e293b; font-weight:500; }
    .article-pagination a:hover { background:#4f46e5; color:white; }
    .footer { text-align:center; padding:2rem 1rem; margin:2rem auto 0; background:#fff; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); }
    .footer-nav { display:flex; justify-content:center; flex-wrap:wrap; gap:1rem 1.5rem; list-style:none; padding:0; margin:0 0 1rem; }
    .footer-nav a { color:#64748b; text-decoration:none; font-size:0.9rem; }
    .footer-nav a:hover { color:#4f46e5; }
    .footer-copyright { font-size:0.85rem; color:#64748b; }
   

.related-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
}
.related-card {
  display: flex;
  flex-direction: column;
  background: #f9fafb;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  transition: transform 0.2s ease;
}
.related-card:hover {
  transform: translateY(-4px);
}
.related-card img {
  width: 100%;
  height: 140px;
  object-fit: cover;
}
.related-card-content {
  padding: 1rem;
}
.related-card-content h4 {
  margin: 0 0 0.5rem;
  font-size: 1rem;
}
.related-card-content p {
  font-size: 0.9rem;
  color: #64748b;
  margin: 0;
}
.related-card-content a {
  text-decoration: none;
  color: #4f46e5;
  font-weight: 600;
}
.related-card-content a:hover {
  color: #1e293b;
}
</style>
<style>
.nav {
  text-align: center !important;
}
.nav li {
  display: inline-block !important;
  float: none !important;
}
</style>
<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1226342433058379"></script>
<link href="https://myipnow.net/troubleshooting-packet-sniffing-common-issues-and-quick-fixes/" rel="canonical"/><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://myipnow.net/#website","url":"https://myipnow.net/","name":"MyIPNow"},{"@type":"Organization","@id":"https://myipnow.net/#organization","name":"MyIPNow","url":"https://myipnow.net/"},{"@type":"WebPage","@id":"https://myipnow.net/troubleshooting-packet-sniffing-common-issues-and-quick-fixes/","url":"https://myipnow.net/troubleshooting-packet-sniffing-common-issues-and-quick-fixes/","name":"Troubleshooting Packet Sniffing: Common Issues and Quick Fixes. | MyIPNow","description":"Learn about Troubleshooting Packet Sniffing: Common Issues and Quick Fixes. in this detailed guide on Home Computing.","isPartOf":{"@id":"https://myipnow.net/#website"},"keywords":"my ip, what is my ip, ip lookup, ip address lookup, free ip lookup tool, ipv4, ipv6, ipv6 lookup, ip geolocation, ip location, check ip, ip tools, public ip, website ip lookup, dns checker ip location, ip proxy checker, whatismyipaddress.com, whatsmyip, whatismyip, networking, privacy, security, myipnow, whatis my ip address, IP address tracker, check IP address, best IP lookup 2025, WhatIsMyIPAddress alternative, online IP checker, internet privacy, network security, online ip lookup tool, ip geolocation tool, website ip checker, website ip address lookup, ip address lookup tool, ip look up tool, ip address search tool, search ip tool, ipv6 ip lookup"},{"@type":"Article","@id":"https://myipnow.net/troubleshooting-packet-sniffing-common-issues-and-quick-fixes/#article","headline":"Troubleshooting Packet Sniffing: Common Issues and Quick Fixes.","description":"Learn about Troubleshooting Packet Sniffing: Common Issues and Quick Fixes. in this detailed guide on Home Computing.","mainEntityOfPage":"https://myipnow.net/troubleshooting-packet-sniffing-common-issues-and-quick-fixes/","isPartOf":{"@id":"https://myipnow.net/#website"},"author":{"@type":"Organization","name":"MyIPNow"},"publisher":{"@id":"https://myipnow.net/#organization"},"datePublished":"2025-10-04","dateModified":"2025-10-04","keywords":"my ip, what is my ip, ip lookup, ip address lookup, free ip lookup tool, ipv4, ipv6, ipv6 lookup, ip geolocation, ip location, check ip, ip tools, public ip, website ip lookup, dns checker ip location, ip proxy checker, whatismyipaddress.com, whatsmyip, whatismyip, networking, privacy, security, myipnow, whatis my ip address, IP address tracker, check IP address, best IP lookup 2025, WhatIsMyIPAddress alternative, online IP checker, internet privacy, network security, online ip lookup tool, ip geolocation tool, website ip checker, website ip address lookup, ip address lookup tool, ip look up tool, ip address search tool, search ip tool, ipv6 ip lookup","url":"https://myipnow.net/troubleshooting-packet-sniffing-common-issues-and-quick-fixes/"}]}</script><style>
@media (max-width: 768px) {
  .category-nav {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    padding-bottom: 10px;
  }
  .category-nav ul {
    display: inline-flex;
    flex-wrap: nowrap;
    white-space: nowrap;
    gap: 1.2rem;
    list-style: none;
    margin: 0;
    padding: 0 1rem;
  }
  .category-nav::-webkit-scrollbar { height: 6px; }
  .category-nav::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
  }
  .nav-tools ul {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    right: auto;
    background: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    list-style: none;
    padding: .5rem 0;
    margin: 0;
    min-width: 220px;
    z-index: 999;
  }
  .nav-tools.open ul { display: block; }
}
</style>



<style>
@media (max-width: 768px) {
  .nav-tools {
    position: static !important;
  }
  .nav-tools ul {
    position: fixed !important;
    top: 60px !important;
    left: 10px;
    right: 10px;
    display: none;
    background: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    z-index: 10000;
  }
  .nav-tools.open ul {
    display: block !important;
  }
  body.menu-open {
    overflow: hidden;
  }
}
</style>



</head>
<body>
<script async crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1226342433058379"></script>

<div class="container"><header class="site-header">
<div class="header-top">
<a class="logo" href="/index.html">🌐 MyIPNow</a>
<form action="/search.html" class="search-form" method="get">
<input aria-label="Search articles" name="q" placeholder="Search..." type="search"/>
<button type="submit">Search</button>
</form>
</div>
<nav aria-label="Article Categories" class="category-nav">
<ul>
<li class="nav-tools"><a href="#">Tools ▾</a>
<ul>
<li><a href="/index.html">IP Lookup</a></li>
<li><a href="/dns-lookup.html">DNS Lookup</a></li>
<li><a href="/whois-lookup.html">WHOIS Lookup</a></li>
<li><a href="/internet-speed-test.html">Internet Speed Test</a></li>
<li><a href="/generate-password.html">Generate Password</a></li>
<li><a href="/ip-blacklist.html">IP Blacklist</a></li>
</ul>
</li>
<li><a href="/online-safety/index.html">Online Safety</a></li>
<li><a href="/online-privacy/index.html">Online Privacy</a></li>
<li><a href="/networking/index.html">Networking</a></li>
<li><a href="/ip-addresses/index.html">IP Addresses</a></li>
<li><a href="/home-computing/index.html">Home Computing</a></li>
<li><a href="/general-topics/index.html">General Topics</a></li>
</ul>
</nav>
</header>
<!-- Header -->
<!-- Page Header --><!-- Article Body -->
<header class="page-header">
<h1>Troubleshooting Packet Sniffing: Common Issues and Quick Fixes.</h1>
</header>
<article class="article-body"><p class="article-meta">🗓️ Published on October 04, 2025</p>
<h2>
     Troubleshooting Packet Sniffing: Common Issues and Quick Fixes
    </h2>
<p>Packet sniffing is a vital technique used by network administrators and cybersecurity professionals to monitor and analyze network traffic. However, like any other technology, it can encounter various issues that hinder its effectiveness. This article will explore common problems faced during packet sniffing and provide quick fixes to enhance your troubleshooting skills. </p>
<h2>
     What is Packet Sniffing?
    </h2>
<p>Packet sniffing involves capturing data packets that travel across a network. This process allows users to analyze the data being sent and received, helping in network troubleshooting, security analysis, and more. Packet sniffing tools, such as Wireshark, tcpdump, and others, enable users to see the details of each packet, including source and destination addresses, protocols, and payload data. </p>
<h2>
     Common Issues in Packet Sniffing
    </h2>
<p>While packet sniffing can be straightforward, several issues can arise during the process. Below are some common problems and their quick fixes:
    </p>
<h3>
     1. Sniffer Not Capturing Any Data
    </h3>
<p>One of the most frustrating issues is when a packet sniffer fails to capture any data. This can occur due to various reasons:
    </p>
<ul>
<li>
<strong>
       Incorrect Network Interface:
      </strong>
      Ensure that you are monitoring the correct network interface. If you have multiple interfaces (e.g., Ethernet, Wi-Fi), you may need to select the appropriate one.
     </li>
<li>
<strong>
       Promiscuous Mode Disabled:
      </strong>
      Many packet sniffers require promiscuous mode to be enabled to capture all packets, not just those destined for your device. Check your sniffer settings to ensure this mode is active.
     </li>
<li>
<strong>
       Insufficient Permissions:
      </strong>
      Some packet sniffing tools require administrative privileges to function correctly. Make sure to run the application with the necessary permissions.
     </li>
</ul>
<h3>
     2. Data Capture is Incomplete or Missing Packets
    </h3>
<p>Sometimes, you may find that the data captured is incomplete or certain packets are missing. This situation can arise due to:
    </p>
<ul>
<li>
<strong>
       Buffer Overflow:
      </strong>
      If your sniffer’s buffer is full, it may drop packets. Increase the buffer size in the settings or reduce the capture filter to prevent this.
     </li>
<li>
<strong>
       Network Congestion:
      </strong>
      High traffic can result in dropped packets. Try capturing at a less busy time or using a more powerful machine to reduce the chances of overflow.
     </li>
<li>
<strong>
       Capture Filters:
      </strong>
      Incorrectly configured capture filters can limit the data captured. Review your filters to ensure they are set up correctly.
     </li>
</ul>
<h3>
     3. Poor Performance of the Sniffer Tool
    </h3>
<p>If the packet sniffer is running slowly or experiencing lag, it can interfere with your analysis. Here are some factors to consider:
    </p>
<ul>
<li>
<strong>
       Resource Limitations:
      </strong>
      Packet sniffers can be resource-intensive. Close unnecessary applications to free up CPU and memory resources.
     </li>
<li>
<strong>
       High Traffic Volume:
      </strong>
      If your network is very busy, it may overwhelm the sniffer. Use filters to capture only relevant traffic, which can improve performance.
     </li>
<li>
<strong>
       Outdated Software:
      </strong>
      Ensure that your packet sniffing tool is up to date. Software updates often include performance improvements and bug fixes.
     </li>
</ul>
<h3>
     4. Unreadable or Corrupted Data
    </h3>
<p>Sometimes, the data captured may appear unreadable or corrupted. This issue can stem from:
    </p>
<ul>
<li>
<strong>
       Protocol Mismatch:
      </strong>
      If the sniffer is not set to recognize the correct protocol, the data may not be displayed correctly. Ensure that you have selected the appropriate protocol settings.
     </li>
<li>
<strong>
       Encryption:
      </strong>
      If you are capturing traffic from secure protocols (e.g., HTTPS), the payload will be encrypted. You may need to use additional tools or methods to decrypt this data.
     </li>
<li>
<strong>
       File Corruption:
      </strong>
      If you are saving capture files, ensure that they are not getting corrupted during the saving process. Always use reliable storage media.
     </li>
</ul>
<h3>
     5. Lack of Analysis Tools
    </h3>
<p>
     After capturing data, analyzing it effectively is crucial. A lack of analysis tools can limit your ability to interpret the data. Consider the following:
    </p>
<ul>
<li>
<strong>
       Inadequate Software Features:
      </strong>
      Ensure that the sniffing tool you are using has the necessary analysis features. Tools like Wireshark offer extensive analysis capabilities, including filtering and statistics.
     </li>
<li>
<strong>
       Missing Plugins:
      </strong>
      Some packet sniffers support plugins that enhance their functionality. Check if your tool offers any additional plugins to improve your analysis.
     </li>
<li>
<strong>
       Documentation and Resources:
      </strong>
      Familiarize yourself with the documentation and resources available for your sniffer. Many online communities and forums provide valuable tips and tricks.
     </li>
</ul>
<h2>
     Quick Fixes for Common Packet Sniffing Issues
    </h2>
<p>Here are some quick fixes that can help you resolve common packet sniffing issues effectively:</p>
<ol>
<li>
<strong>
       Check Your Network Interface:
      </strong>
      Always confirm that the correct network interface is selected for capturing packets.
     </li>
<li>
<strong>
       Enable Promiscuous Mode:
      </strong>
      Go into your settings and make sure promiscuous mode is enabled for comprehensive data capture.
     </li>
<li>
<strong>
       Adjust Buffer Size:
      </strong>
      If you are experiencing packet loss, increase the buffer size within your sniffer's settings.
     </li>
<li>
<strong>
       Optimize Capture Filters:
      </strong>
      Set up appropriate capture filters to focus on relevant traffic, reducing unnecessary load.
     </li>
<li>
<strong>
       Update Software:
      </strong>
      Regularly check for updates to your packet sniffing tool and install them promptly.
     </li>
<li>
<strong>
       Close Unused Applications:
      </strong>
      Free up system resources by closing applications that are not in use.
     </li>
<li>
<strong>
       Utilize Analysis Tools:
      </strong>
      Make use of the built-in analysis features of your sniffer or consider additional analysis plugins.
     </li>
</ol>
<h2>
     Conclusion
    </h2>
<p>
     Packet sniffing is an essential skill for network administrators and cybersecurity professionals, but it is not without its challenges. By familiarizing yourself with common issues and their quick fixes, you can troubleshoot more effectively and enhance your ability to analyze network traffic. Whether you're facing issues with data capture, performance, or analysis, understanding the underlying problems will empower you to resolve them swiftly and efficiently. Remember, the key to successful packet sniffing lies in preparation, knowledge, and the right tools. </p>
<div class="references"><p>References:</p><ul><li><a href="https://www.techradar.com/" rel="noopener noreferrer" target="_blank">TechRadar – Tech News and Reviews</a></li><li><a href="https://www.wired.com/" rel="noopener noreferrer" target="_blank">WIRED – Technology Insights</a></li><li><a href="https://www.theverge.com/" rel="noopener noreferrer" target="_blank">The Verge – Technology and Culture</a></li><li><a href="https://www.cnet.com/" rel="noopener noreferrer" target="_blank">CNET – Tech How-To and Reviews</a></li><li><a href="https://en.wikipedia.org/wiki/Technology" rel="noopener noreferrer" target="_blank">Wikipedia – Technology Overview</a></li></ul></div><section class="see-also"><h2>See Also</h2><ul><li><a href="/my-ip-ipv4/">My ip ipv4 – Free IP Lookup &amp; Guide | MyIPNow</a></li><li><a href="/troubleshooting-net-neutrality-common-issues-and-quick-fixes/">Troubleshooting Net Neutrality: Common Issues and Quick Fixes. | MyIPNow</a></li><li><a href="/top-firewalls-work-alternatives-you-should-consider/">Top Firewalls Work Alternatives You Should Consider. | MyIPNow</a></li><li><a href="/advanced-guide-to-amazing-vpn-and-prevention/">Advanced Guide to Amazing Vpn and Prevention. | MyIPNow</a></li><li><a href="/top-identify-scammer-online-alternatives-you-should-consider/">Top Identify Scammer Online Alternatives You Should Consider. | MyIPNow</a></li></ul></section><p class="updated-date">Last updated: November 1, 2025</p></article><!-- Pagination (Next / Prev / Back) --><!-- Related Articles --><!-- Pagination (Next / Prev / Back) --><!-- Related Articles --><div class="article-pagination" style="display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:1rem;"><a href="/troubleshooting-osint-cybercrime-common-issues-and-quick-fixes/" style="justify-self:start;">← Previous Article</a><a href="/home-computing/page4.html" id="returnToCategory" style="justify-self:center;">↑ Return to Category</a><a href="/troubleshooting-red-flags-common-issues-and-quick-fixes/" style="justify-self:end;">Next Article →</a></div><footer class="footer">
<ul class="footer-nav">
<li>
<a href="/about.html">
       About
      </a>
</li>
<li>
<a href="/contact.html">
       Contact
      </a>
</li>
<li>
<a href="/privacy-policy.html">
       Privacy Policy
      </a>
</li>
<li>
<a href="/terms-of-use.html">
       Terms of Use
      </a>
</li>
<li>
<a href="/affiliate-disclosure.html">
       Affiliate Disclosure
      </a>
</li>
</ul>
<div class="footer-copyright">
     © 2025 MyIPNow. All Rights Reserved.
    </div>
</footer><!-- Related Articles --></div>
<script id="article-return-v3">
(function(){
  var KEY='catStateV3'; // { url, scroll }
  var CAT_RE=/^\/(online-safety|online-privacy|networking|ip-addresses|home-computing|general-topics)\//;

  function init(){
    var btn = document.getElementById('returnToCategory');
    if (!btn) return;

    var raw = null, url=null;
    try {
      raw = sessionStorage.getItem(KEY);
      if (raw){
        var st = JSON.parse(raw);
        url = st && st.url;
      }
    } catch(e){}

    // If we have a stored category URL, use it
    if (url && CAT_RE.test(url)) {
      btn.setAttribute('href', url);
      return;
    }

    // Fallback: deduce category from article path and use /<cat>/index.html
    var parts = location.pathname.split('/').filter(Boolean);
    if (parts.length > 0) {
      var cat = '/' + parts[0] + '/';
      if (CAT_RE.test(cat)) {
        btn.setAttribute('href', cat + 'index.html');
      }
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>

























<script id="mobile-header-fix-final">
(function(){
  const tools = document.querySelector('.nav-tools');
  if(!tools) return;
  const trigger = tools.querySelector(':scope > a');
  const dropdown = tools.querySelector(':scope > ul');
  if(!trigger || !dropdown) return;

  let menu=null, backdrop=null, open=false;
  tools.addEventListener('mouseenter',()=>{if(window.innerWidth>768)dropdown.style.display='block';});
  tools.addEventListener('mouseleave',()=>{if(window.innerWidth>768)dropdown.style.display='none';});

  function closeMenu(){ if(menu){menu.remove();menu=null;} if(backdrop){backdrop.remove();backdrop=null;} document.body.classList.remove('menu-open'); open=false; }

  function openMenu(e){
    e.preventDefault(); e.stopPropagation();
    if(window.innerWidth>768) return;
    if(open){ closeMenu(); return; }
    const rect=trigger.getBoundingClientRect();
    backdrop=document.createElement('div');
    Object.assign(backdrop.style,{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'transparent',zIndex:9998});
    backdrop.addEventListener('click',closeMenu);
    document.body.appendChild(backdrop);
    menu=dropdown.cloneNode(true);
    Object.assign(menu.style,{position:'absolute',top:`${rect.bottom + window.scrollY + 8}px`,left:`${rect.left + window.scrollX}px`,minWidth:`${Math.max(rect.width,200)}px`,background:'#fff',border:'1px solid #e2e8f0',borderRadius:'10px',boxShadow:'0 10px 30px rgba(0,0,0,0.15)',listStyle:'none',padding:'.5rem 0',margin:0,zIndex:9999,maxHeight:'70vh',overflowY:'auto'});
    menu.querySelectorAll('a').forEach(a=>{a.style.display='block';a.style.padding='.6rem 1.2rem';a.style.color='#1e293b';a.style.textDecoration='none';a.style.fontWeight='500';a.addEventListener('mouseenter',()=>a.style.color='#4f46e5');a.addEventListener('mouseleave',()=>a.style.color='#1e293b');});
    document.body.appendChild(menu);
    document.body.classList.add('menu-open');
    open=true;
  }

  window.addEventListener('scroll',()=>{if(!open||!menu)return;const rect=trigger.getBoundingClientRect();menu.style.top=`${rect.bottom + window.scrollY + 8}px`;menu.style.left=`${rect.left + window.scrollX}px`;});
  window.addEventListener('resize',closeMenu);
  trigger.addEventListener('click',openMenu);
  trigger.addEventListener('touchstart',openMenu,{passive:false});
})();
</script>
</body>
</html>