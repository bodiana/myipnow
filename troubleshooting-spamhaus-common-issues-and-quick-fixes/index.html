<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>
   Troubleshooting Spamhaus: Common Issues and Quick Fixes. | MyIPNow
  </title>
<meta content="Learn about Troubleshooting Spamhaus: Common Issues and Quick Fixes. in this detailed guide on Home Computing." name="description"/>
<link href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;🌐&lt;/text&gt;&lt;text y=%22.9em%22 x=%2228%22 font-size=%2255%22&gt;📍&lt;/text&gt;&lt;/svg&gt;" rel="icon"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<style>
    body { font-family: 'Inter', sans-serif; background:#f7f8f9; margin:0; color:#1e293b; line-height:1.7; }
    .container { max-width:900px; margin:0 auto; padding:1rem; }
    .site-header { background:#fff; padding:1rem; margin-bottom:2rem; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); }
    .header-top { display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:1rem; padding-bottom:1rem; border-bottom:1px solid #e2e8f0; }
    .logo { font-size:1.5rem; font-weight:700; color:#1e293b; text-decoration:none; }
    .search-form { display:flex; flex-grow:1; max-width:400px; }
    .search-form input { width:100%; padding:0.75rem 1rem; border:1px solid #e2e8f0; border-radius:8px 0 0 8px; font-size:0.9rem; }
    .search-form button { padding:0.75rem 1rem; border:none; background:#10b981; color:white; border-radius:0 8px 8px 0; cursor:pointer; font-weight:500; }
    .category-nav { padding-top:1rem; }
    .category-nav ul {
  display:flex;
  gap:1.5rem;
  list-style:none;
  margin:0;
  padding:0;
  align-items:center;
  flex-wrap:wrap;
  justify-content:center !important;
}

.nav-tools { position: relative; }
.nav-tools > a { cursor: default; }
.nav-tools ul {
  display: none;
  position:absolute;
  top:100%;
  left:0;
  background:#fff;
  border:1px solid #e2e8f0;
  border-radius:8px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
  list-style:none;
  padding:.5rem 0;
  margin:0;
  min-width:220px;
  z-index:999;
}
.nav-tools ul li a {
  display:block;
  padding:.5rem 1rem;
  color:#1e293b;
  text-decoration:none;
}
.nav-tools ul li a:hover { color:#4f46e5; }
.nav-tools:hover ul { display:block; }


@media(max-width:768px){
  .category-nav ul {
    overflow-x:auto;
    white-space:nowrap;
    padding-bottom:10px;
  }

.nav-tools { position: relative; }
.nav-tools > a { cursor: default; }
.nav-tools ul {
  display: none;
  position:absolute;
  top:100%;
  left:0;
  background:#fff;
  border:1px solid #e2e8f0;
  border-radius:8px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
  list-style:none;
  padding:.5rem 0;
  margin:0;
  min-width:220px;
  z-index:999;
}
.nav-tools ul li a {
  display:block;
  padding:.5rem 1rem;
  color:#1e293b;
  text-decoration:none;
}
.nav-tools ul li a:hover { color:#4f46e5; }
.nav-tools:hover ul { display:block; }

}

.category-nav a {
  text-decoration: none;
  color: var(--text-primary);
  font-size: 0.9rem;
  font-weight: 500;
  transition: color var(--transition-speed);
}

.category-nav a:hover {
  color: var(--accent-color);
}
    .page-header { background:#fff; padding:2rem; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); margin-bottom:2rem; text-align:center; }
    .page-header h1 { font-size:2.2rem; margin:0 0 0.5rem; }
    .page-header p { font-size:1rem; color:#64748b; margin:0; }
    .article-body { background:#fff; padding:2rem; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); margin-bottom:2rem; }
    .article-body h2 { margin-top:2rem; font-size:1.5rem; }
    .article-body h3 { margin-top:1.2rem; font-size:1.2rem; }
    .related { background:#fff; padding:1.5rem; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); margin-bottom:2rem; }
    .related h3 { margin-top:0; }
    .related ul { list-style:none; padding:0; }
    .related li { margin-bottom:0.5rem; }
    .related a { text-decoration:none; color:#4f46e5; }
    .article-pagination { display:flex; justify-content:space-between; gap:1rem; margin-bottom:2rem; }
    .article-pagination a { background:#fff; padding:0.75rem 1rem; border-radius:8px; box-shadow:0 4px 10px rgba(0,0,0,0.05); text-decoration:none; color:#1e293b; font-weight:500; }
    .article-pagination a:hover { background:#4f46e5; color:white; }
    .footer { text-align:center; padding:2rem 1rem; margin:2rem auto 0; background:#fff; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); }
    .footer-nav { display:flex; justify-content:center; flex-wrap:wrap; gap:1rem 1.5rem; list-style:none; padding:0; margin:0 0 1rem; }
    .footer-nav a { color:#64748b; text-decoration:none; font-size:0.9rem; }
    .footer-nav a:hover { color:#4f46e5; }
    .footer-copyright { font-size:0.85rem; color:#64748b; }
   

.related-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
}
.related-card {
  display: flex;
  flex-direction: column;
  background: #f9fafb;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  transition: transform 0.2s ease;
}
.related-card:hover {
  transform: translateY(-4px);
}
.related-card img {
  width: 100%;
  height: 140px;
  object-fit: cover;
}
.related-card-content {
  padding: 1rem;
}
.related-card-content h4 {
  margin: 0 0 0.5rem;
  font-size: 1rem;
}
.related-card-content p {
  font-size: 0.9rem;
  color: #64748b;
  margin: 0;
}
.related-card-content a {
  text-decoration: none;
  color: #4f46e5;
  font-weight: 600;
}
.related-card-content a:hover {
  color: #1e293b;
}
</style>
<style>
.nav {
  text-align: center !important;
}
.nav li {
  display: inline-block !important;
  float: none !important;
}
</style>
<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1226342433058379"></script>
<link href="https://myipnow.net/troubleshooting-spamhaus-common-issues-and-quick-fixes/" rel="canonical"/><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://myipnow.net/#website","url":"https://myipnow.net/","name":"MyIPNow"},{"@type":"Organization","@id":"https://myipnow.net/#organization","name":"MyIPNow","url":"https://myipnow.net/"},{"@type":"WebPage","@id":"https://myipnow.net/troubleshooting-spamhaus-common-issues-and-quick-fixes/","url":"https://myipnow.net/troubleshooting-spamhaus-common-issues-and-quick-fixes/","name":"Troubleshooting Spamhaus: Common Issues and Quick Fixes. | MyIPNow","description":"Learn about Troubleshooting Spamhaus: Common Issues and Quick Fixes. in this detailed guide on Home Computing.","isPartOf":{"@id":"https://myipnow.net/#website"},"keywords":"my ip, what is my ip, ip lookup, ip address lookup, free ip lookup tool, ipv4, ipv6, ipv6 lookup, ip geolocation, ip location, check ip, ip tools, public ip, website ip lookup, dns checker ip location, ip proxy checker, whatismyipaddress.com, whatsmyip, whatismyip, networking, privacy, security, myipnow, whatis my ip address, IP address tracker, check IP address, best IP lookup 2025, WhatIsMyIPAddress alternative, online IP checker, internet privacy, network security, online ip lookup tool, ip geolocation tool, website ip checker, website ip address lookup, ip address lookup tool, ip look up tool, ip address search tool, search ip tool, ipv6 ip lookup"},{"@type":"Article","@id":"https://myipnow.net/troubleshooting-spamhaus-common-issues-and-quick-fixes/#article","headline":"Troubleshooting Spamhaus: Common Issues and Quick Fixes.","description":"Learn about Troubleshooting Spamhaus: Common Issues and Quick Fixes. in this detailed guide on Home Computing.","mainEntityOfPage":"https://myipnow.net/troubleshooting-spamhaus-common-issues-and-quick-fixes/","isPartOf":{"@id":"https://myipnow.net/#website"},"author":{"@type":"Organization","name":"MyIPNow"},"publisher":{"@id":"https://myipnow.net/#organization"},"datePublished":"2025-09-29","dateModified":"2025-09-29","keywords":"my ip, what is my ip, ip lookup, ip address lookup, free ip lookup tool, ipv4, ipv6, ipv6 lookup, ip geolocation, ip location, check ip, ip tools, public ip, website ip lookup, dns checker ip location, ip proxy checker, whatismyipaddress.com, whatsmyip, whatismyip, networking, privacy, security, myipnow, whatis my ip address, IP address tracker, check IP address, best IP lookup 2025, WhatIsMyIPAddress alternative, online IP checker, internet privacy, network security, online ip lookup tool, ip geolocation tool, website ip checker, website ip address lookup, ip address lookup tool, ip look up tool, ip address search tool, search ip tool, ipv6 ip lookup","url":"https://myipnow.net/troubleshooting-spamhaus-common-issues-and-quick-fixes/"}]}</script><style>
@media (max-width: 768px) {
  .category-nav {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    padding-bottom: 10px;
  }
  .category-nav ul {
    display: inline-flex;
    flex-wrap: nowrap;
    white-space: nowrap;
    gap: 1.2rem;
    list-style: none;
    margin: 0;
    padding: 0 1rem;
  }
  .category-nav::-webkit-scrollbar { height: 6px; }
  .category-nav::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
  }
  .nav-tools ul {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    right: auto;
    background: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    list-style: none;
    padding: .5rem 0;
    margin: 0;
    min-width: 220px;
    z-index: 999;
  }
  .nav-tools.open ul { display: block; }
}
</style>



<style>
@media (max-width: 768px) {
  .nav-tools {
    position: static !important;
  }
  .nav-tools ul {
    position: fixed !important;
    top: 60px !important;
    left: 10px;
    right: 10px;
    display: none;
    background: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    z-index: 10000;
  }
  .nav-tools.open ul {
    display: block !important;
  }
  body.menu-open {
    overflow: hidden;
  }
}
</style>



</head>
<body>
<script async crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1226342433058379"></script>

<div class="container"><header class="site-header">
<div class="header-top">
<a class="logo" href="/index.html">🌐 MyIPNow</a>
<form action="/search.html" class="search-form" method="get">
<input aria-label="Search articles" name="q" placeholder="Search..." type="search"/>
<button type="submit">Search</button>
</form>
</div>
<nav aria-label="Article Categories" class="category-nav">
<ul>
<li class="nav-tools"><a href="#">Tools ▾</a>
<ul>
<li><a href="/index.html">IP Lookup</a></li>
<li><a href="/dns-lookup.html">DNS Lookup</a></li>
<li><a href="/whois-lookup.html">WHOIS Lookup</a></li>
<li><a href="/internet-speed-test.html">Internet Speed Test</a></li>
<li><a href="/generate-password.html">Generate Password</a></li>
<li><a href="/ip-blacklist.html">IP Blacklist</a></li>
</ul>
</li>
<li><a href="/online-safety/index.html">Online Safety</a></li>
<li><a href="/online-privacy/index.html">Online Privacy</a></li>
<li><a href="/networking/index.html">Networking</a></li>
<li><a href="/ip-addresses/index.html">IP Addresses</a></li>
<li><a href="/home-computing/index.html">Home Computing</a></li>
<li><a href="/general-topics/index.html">General Topics</a></li>
</ul>
</nav>
</header>
<!-- Header -->
<!-- Page Header --><!-- Article Body -->
<header class="page-header">
<h1>Troubleshooting Spamhaus: Common Issues and Quick Fixes.</h1>
</header>
<article class="article-body"><p class="article-meta">🗓️ Published on September 29, 2025</p>
<h2>
     Troubleshooting Spamhaus: Common Issues and Quick Fixes
    </h2>
<p>Spamhaus is a widely recognized organization that tracks email spammers and spam-related activities on the internet. For businesses and individuals relying on email communication, being listed on a Spamhaus blacklist can lead to significant disruptions in email delivery. This article aims to provide a comprehensive guide on understanding common issues associated with Spamhaus and offers practical solutions to help users resolve these problems efficiently. </p>
<h2>
     Understanding Spamhaus and Its Role
    </h2>
<p>
     Spamhaus maintains several real-time blacklists (RBLs) that help email providers identify and block spam. When an IP address is listed on Spamhaus, it indicates that the associated network has been involved in sending spam or malicious content. Understanding how Spamhaus operates is crucial for troubleshooting issues related to email deliverability. </p>
<h3>
     How Spamhaus Works
    </h3>
<ul>
<li>
<strong>
       Data Collection:
      </strong>
      Spamhaus collects data from various sources, including user reports, spam traps, and honeypots.
     </li>
<li>
<strong>
       Listing Criteria:
      </strong>
      IP addresses may be listed based on spam activity, open relay configurations, or malware distribution.
     </li>
<li>
<strong>
       Removal Process:
      </strong>
      Spamhaus provides a mechanism for IP owners to request removal from their lists once the issues are resolved.
     </li>
</ul>
<h2>
     Common Issues with Spamhaus
    </h2>
<p>
     Listed below are some common issues users face regarding Spamhaus listings, along with their potential causes. </p>
<h3>
     1. Unintentional Listings
    </h3>
<p>Many users find their IP addresses listed on Spamhaus without being aware of any wrongdoing. This can be due to various reasons:
    </p>
<ul>
<li>
<strong>
       Compromised Accounts:
      </strong>
      If your email account or server has been hacked, spammers could be using it to send unsolicited emails.
     </li>
<li>
<strong>
       Shared Hosting Environments:
      </strong>
      If your IP address shares space with other users, one malicious user can affect the entire IP range.
     </li>
<li>
<strong>
       Misconfigured Servers:
      </strong>
      Inappropriate settings on your mail server could lead to unintentional spam sending.
     </li>
</ul>
<h3>
     2. Delayed Removal from Blacklists
    </h3>
<p>
     Once issues are resolved, users might experience delays in removal from the Spamhaus blacklist. This can occur due to:</p>
<ul>
<li>
<strong>
       Pending Investigations:
      </strong>
      Spamhaus may take time to investigate and confirm that the spam issues have been resolved.
     </li>
<li>
<strong>
       Ongoing Violations:
      </strong>
      If spam activity continues from the same IP address, removal requests will be denied.
     </li>
</ul>
<h3>
     3. False Positives
    </h3>
<p>
     Sometimes legitimate businesses find themselves mistakenly listed as spammers. This can happen for several reasons:</p>
<ul>
<li>
<strong>
       High Volume Mailing:
      </strong>
      If you send a large number of emails, especially to unengaged recipients, it can trigger spam filters.
     </li>
<li>
<strong>
       Email Content:
      </strong>
      Certain phrases and formats can be flagged as spammy, leading to false positives.
     </li>
</ul>
<h2>
     Quick Fixes for Spamhaus Issues
    </h2>
<p>
     Here are several practical steps you can take to troubleshoot and resolve Spamhaus-related issues. </p>
<h3>
     Step 1: Check Your Listing Status
    </h3>
<p>Before taking action, verify whether your IP address is listed on Spamhaus:</p>
<ol>
<li>
      Visit the
      <a href="https://www.spamhaus.org/lookup/">
       Spamhaus Lookup Tool
      </a>
      .
     </li>
<li>
      Enter your IP address or domain name.
     </li>
<li>
      Review the results to determine if you are listed.
     </li>
</ol>
<h3>
     Step 2: Identify the Cause
    </h3>
<p>Once you confirm that your IP is listed, the next step is to identify the cause:</p>
<ul>
<li>
      Check your email server logs for suspicious activity.
     </li>
<li>
      Run a security scan to ensure your systems are not compromised.
     </li>
<li>
      Evaluate your email sending practices and list hygiene.
     </li>
</ul>
<h3>
     Step 3: Resolve Underlying Issues
    </h3>
<p>Before requesting removal, ensure that you have addressed the issues that led to the listing:</p>
<ul>
<li>
<strong>
       Secure Your Systems:
      </strong>
      Change passwords and enhance security measures on your email server.
     </li>
<li>
<strong>
       Review Configuration:
      </strong>
      Ensure your mail server is correctly configured, and consider using authentication methods like SPF, DKIM, and DMARC.
     </li>
<li>
<strong>
       Improve List Hygiene:
      </strong>
      Regularly clean your email lists to remove unengaged users and invalid addresses.
     </li>
</ul>
<h3>
     Step 4: Request Removal
    </h3>
<p>After addressing the underlying issues, you can request removal from the Spamhaus blacklist:</p>
<ol>
<li>
      Go to the Spamhaus
      <a href="https://www.spamhaus.org/lookup/">
       Removal Request Page
      </a>
      .
     </li>
<li>
      Follow the instructions to submit your request.
     </li>
<li>
      Provide any necessary details to expedite the process.
     </li>
</ol>
<h3>
     Step 5: Monitor Your Status
    </h3>
<p>After submitting your removal request, keep a close eye on your status:</p>
<ul>
<li>
      Regularly check the Spamhaus Lookup Tool for updates.
     </li>
<li>
      Continue to monitor your email server logs for any suspicious activity.
     </li>
<li>
      Implement ongoing email best practices to avoid future listings.
     </li>
</ul>
<h2>
     Preventing Future Issues with Spamhaus
    </h2>
<p>To avoid future complications with Spamhaus, consider implementing the following best practices:</p>
<h3>
     1. Maintain a Clean Email List
    </h3>
<p>
     Regularly cleanse your email list to remove inactive or invalid addresses. Consider using double opt-in to ensure that subscribers genuinely want to receive your emails. </p>
<h3>
     2. Implement Email Authentication
    </h3>
<p>Utilize SPF, DKIM, and DMARC to authenticate your emails. These measures help improve deliverability and reduce the chances of being flagged as spam. </p>
<h3>
     3. Monitor Sending Practices
    </h3>
<p>
     Keep an eye on your sending volume and engagement metrics. Avoid sudden spikes in email sending, which can raise red flags with email providers. </p>
<h3>
     4. Educate Your Team
    </h3>
<p>
     Ensure that everyone involved in email marketing understands best practices and the importance of compliance with anti-spam regulations. </p>
<h2>
     Conclusion
    </h2>
<p>
     Being listed on a Spamhaus blacklist can be a frustrating experience, but understanding the causes and knowing how to address them can significantly ease the process. By following the steps outlined in this article, you can effectively troubleshoot common issues related to Spamhaus and take proactive measures to prevent future listings. Remember, maintaining good email practices and securing your systems is crucial for ensuring smooth and uninterrupted email communication. </p>
<div class="references"><p>References:</p><ul><li><a href="https://openai.com/blog" rel="noopener noreferrer" target="_blank">OpenAI Blog</a></li><li><a href="https://www.technologyreview.com/" rel="noopener noreferrer" target="_blank">MIT Technology Review – AI</a></li><li><a href="https://www.wired.com/category/ai/" rel="noopener noreferrer" target="_blank">WIRED AI Section</a></li><li><a href="https://www.theverge.com/ai-artificial-intelligence" rel="noopener noreferrer" target="_blank">The Verge AI Coverage</a></li><li><a href="https://techcrunch.com/category/artificial-intelligence/" rel="noopener noreferrer" target="_blank">TechCrunch AI News</a></li></ul></div><section class="see-also"><h2>See Also</h2><ul><li><a href="/the-10-best-tools-for-unemployment-benefits-scams-in-2025/">The 10 Best Tools for Unemployment Benefits Scams in 2025. | MyIPNow</a></li><li><a href="/beyond-web-server-what-comes-next-in-digital-security/">Beyond Web Server: What Comes Next in Digital Security? | MyIPNow</a></li><li><a href="/best-practices-for-data-leak-protection-protection-in-the-remote-era/">Best Practices for Data Leak Protection Protection in the Remote Era. | MyIPNow</a></li><li><a href="/who-is-mi-ip/">Who is mi ip – Free IP Lookup &amp; Guide | MyIPNow</a></li><li><a href="/best-practices-for-internet-safe-protection-in-the-remote-era/">Best Practices for Internet Safe Protection in the Remote Era. | MyIPNow</a></li></ul></section><p class="updated-date">Last updated: November 1, 2025</p></article><!-- Pagination (Next / Prev / Back) --><!-- Related Articles --><!-- Pagination (Next / Prev / Back) --><!-- Related Articles --><div class="article-pagination" style="display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:1rem;"><a href="/troubleshooting-smartphone-security-common-issues-and-quick-fixes/" style="justify-self:start;">← Previous Article</a><a href="/home-computing/page5.html" id="returnToCategory" style="justify-self:center;">↑ Return to Category</a><a href="/troubleshooting-spoofing-common-issues-and-quick-fixes/" style="justify-self:end;">Next Article →</a></div><footer class="footer">
<ul class="footer-nav">
<li>
<a href="/about.html">
       About
      </a>
</li>
<li>
<a href="/contact.html">
       Contact
      </a>
</li>
<li>
<a href="/privacy-policy.html">
       Privacy Policy
      </a>
</li>
<li>
<a href="/terms-of-use.html">
       Terms of Use
      </a>
</li>
<li>
<a href="/affiliate-disclosure.html">
       Affiliate Disclosure
      </a>
</li>
</ul>
<div class="footer-copyright">
     © 2025 MyIPNow. All Rights Reserved.
    </div>
</footer><!-- Related Articles --></div>
<script id="article-return-v3">
(function(){
  var KEY='catStateV3'; // { url, scroll }
  var CAT_RE=/^\/(online-safety|online-privacy|networking|ip-addresses|home-computing|general-topics)\//;

  function init(){
    var btn = document.getElementById('returnToCategory');
    if (!btn) return;

    var raw = null, url=null;
    try {
      raw = sessionStorage.getItem(KEY);
      if (raw){
        var st = JSON.parse(raw);
        url = st && st.url;
      }
    } catch(e){}

    // If we have a stored category URL, use it
    if (url && CAT_RE.test(url)) {
      btn.setAttribute('href', url);
      return;
    }

    // Fallback: deduce category from article path and use /<cat>/index.html
    var parts = location.pathname.split('/').filter(Boolean);
    if (parts.length > 0) {
      var cat = '/' + parts[0] + '/';
      if (CAT_RE.test(cat)) {
        btn.setAttribute('href', cat + 'index.html');
      }
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>

























<script id="mobile-header-fix-final">
(function(){
  const tools = document.querySelector('.nav-tools');
  if(!tools) return;
  const trigger = tools.querySelector(':scope > a');
  const dropdown = tools.querySelector(':scope > ul');
  if(!trigger || !dropdown) return;

  let menu=null, backdrop=null, open=false;

  // Desktop hover
  tools.addEventListener('mouseenter',()=>{ if(window.innerWidth>768) dropdown.style.display='block'; });
  tools.addEventListener('mouseleave',()=>{ if(window.innerWidth>768) dropdown.style.display='none'; });

  function closeMenu(){
    if(menu){ menu.remove(); menu=null; }
    if(backdrop){ backdrop.remove(); backdrop=null; }
    dropdown.style.display='none';
    document.body.classList.remove('menu-open');
    open=false;
  }

  function openMenu(e){
    e.preventDefault(); e.stopPropagation();
    if(window.innerWidth>768) return;

    dropdown.style.display='none'; // hide original header dropdown

    if(open){ closeMenu(); return; }

    const rect = trigger.getBoundingClientRect();
    backdrop = document.createElement('div');
    Object.assign(backdrop.style,{
      position:'fixed',top:0,left:0,width:'100vw',height:'100vh',
      background:'transparent',zIndex:9998
    });
    backdrop.addEventListener('click', closeMenu);
    document.body.appendChild(backdrop);

    menu = dropdown.cloneNode(true);
    Object.assign(menu.style,{
      position:'absolute',
      top:`${rect.bottom + window.scrollY + 8}px`,
      left:`${rect.left + window.scrollX}px`,
      minWidth:`${Math.max(rect.width,200)}px`,
      background:'#fff',
      border:'1px solid #e2e8f0',
      borderRadius:'10px',
      boxShadow:'0 10px 30px rgba(0,0,0,0.15)',
      listStyle:'none',
      padding:'.5rem 0',
      margin:0,
      zIndex:9999,
      maxHeight:'70vh',
      overflowY:'auto',
      display:'block',        /* ✅ ensures visible */
      visibility:'visible',   /* ✅ fixes Safari hover ghost */
      opacity:'1'             /* ✅ fully visible */
    });
    menu.querySelectorAll('a').forEach(a=>{
      a.style.display='block';
      a.style.padding='.6rem 1.2rem';
      a.style.color='#1e293b';
      a.style.textDecoration='none';
      a.style.fontWeight='500';
      a.addEventListener('mouseenter',()=>a.style.color='#4f46e5');
      a.addEventListener('mouseleave',()=>a.style.color='#1e293b');
    });

    document.body.appendChild(menu);
    document.body.classList.add('menu-open');
    open=true;
  }

  window.addEventListener('scroll',()=>{ if(!open||!menu)return;
    const rect=trigger.getBoundingClientRect();
    menu.style.top=`${rect.bottom + window.scrollY + 8}px`;
    menu.style.left=`${rect.left + window.scrollX}px`;
  });
  window.addEventListener('resize',closeMenu);
  trigger.addEventListener('click',openMenu);
  trigger.addEventListener('touchstart',openMenu,{passive:false});
})();
</script>
</body>
</html>