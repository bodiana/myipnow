<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>
   Unlocking the Power of Tcp Commands Unix: Expert Tips and Tricks. | MyIPNow
  </title>
<meta content="Learn about Unlocking the Power of Tcp Commands Unix: Expert Tips and Tricks. in this detailed guide on General Topics." name="description"/>
<link href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;🌐&lt;/text&gt;&lt;text y=%22.9em%22 x=%2228%22 font-size=%2255%22&gt;📍&lt;/text&gt;&lt;/svg&gt;" rel="icon"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<style>
    body { font-family: 'Inter', sans-serif; background:#f7f8f9; margin:0; color:#1e293b; line-height:1.7; }
    .container { max-width:900px; margin:0 auto; padding:1rem; }
    .site-header { background:#fff; padding:1rem; margin-bottom:2rem; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); }
    .header-top { display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:1rem; padding-bottom:1rem; border-bottom:1px solid #e2e8f0; }
    .logo { font-size:1.5rem; font-weight:700; color:#1e293b; text-decoration:none; }
    .search-form { display:flex; flex-grow:1; max-width:400px; }
    .search-form input { width:100%; padding:0.75rem 1rem; border:1px solid #e2e8f0; border-radius:8px 0 0 8px; font-size:0.9rem; }
    .search-form button { padding:0.75rem 1rem; border:none; background:#10b981; color:white; border-radius:0 8px 8px 0; cursor:pointer; font-weight:500; }
    .category-nav { padding-top:1rem; }
    .category-nav ul {
  display:flex;
  gap:1.5rem;
  list-style:none;
  margin:0;
  padding:0;
  align-items:center;
  flex-wrap:wrap;
  justify-content:center !important;
}

.nav-tools { position: relative; }
.nav-tools > a { cursor: default; }
.nav-tools ul {
  display: none;
  position:absolute;
  top:100%;
  left:0;
  background:#fff;
  border:1px solid #e2e8f0;
  border-radius:8px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
  list-style:none;
  padding:.5rem 0;
  margin:0;
  min-width:220px;
  z-index:999;
}
.nav-tools ul li a {
  display:block;
  padding:.5rem 1rem;
  color:#1e293b;
  text-decoration:none;
}
.nav-tools ul li a:hover { color:#4f46e5; }
.nav-tools:hover ul { display:block; }


@media(max-width:768px){
  .category-nav ul {
    overflow-x:auto;
    white-space:nowrap;
    padding-bottom:10px;
  }

.nav-tools { position: relative; }
.nav-tools > a { cursor: default; }
.nav-tools ul {
  display: none;
  position:absolute;
  top:100%;
  left:0;
  background:#fff;
  border:1px solid #e2e8f0;
  border-radius:8px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
  list-style:none;
  padding:.5rem 0;
  margin:0;
  min-width:220px;
  z-index:999;
}
.nav-tools ul li a {
  display:block;
  padding:.5rem 1rem;
  color:#1e293b;
  text-decoration:none;
}
.nav-tools ul li a:hover { color:#4f46e5; }
.nav-tools:hover ul { display:block; }

}

.category-nav a {
  text-decoration: none;
  color: var(--text-primary);
  font-size: 0.9rem;
  font-weight: 500;
  transition: color var(--transition-speed);
}

.category-nav a:hover {
  color: var(--accent-color);
}
    .page-header { background:#fff; padding:2rem; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); margin-bottom:2rem; text-align:center; }
    .page-header h1 { font-size:2.2rem; margin:0 0 0.5rem; }
    .page-header p { font-size:1rem; color:#64748b; margin:0; }
    .article-body { background:#fff; padding:2rem; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); margin-bottom:2rem; }
    .article-body h2 { margin-top:2rem; font-size:1.5rem; }
    .article-body h3 { margin-top:1.2rem; font-size:1.2rem; }
    .related { background:#fff; padding:1.5rem; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); margin-bottom:2rem; }
    .related h3 { margin-top:0; }
    .related ul { list-style:none; padding:0; }
    .related li { margin-bottom:0.5rem; }
    .related a { text-decoration:none; color:#4f46e5; }
    .article-pagination { display:flex; justify-content:space-between; gap:1rem; margin-bottom:2rem; }
    .article-pagination a { background:#fff; padding:0.75rem 1rem; border-radius:8px; box-shadow:0 4px 10px rgba(0,0,0,0.05); text-decoration:none; color:#1e293b; font-weight:500; }
    .article-pagination a:hover { background:#4f46e5; color:white; }
    .footer { text-align:center; padding:2rem 1rem; margin:2rem auto 0; background:#fff; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,0.08); }
    .footer-nav { display:flex; justify-content:center; flex-wrap:wrap; gap:1rem 1.5rem; list-style:none; padding:0; margin:0 0 1rem; }
    .footer-nav a { color:#64748b; text-decoration:none; font-size:0.9rem; }
    .footer-nav a:hover { color:#4f46e5; }
    .footer-copyright { font-size:0.85rem; color:#64748b; }
   

.related-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
}
.related-card {
  display: flex;
  flex-direction: column;
  background: #f9fafb;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  transition: transform 0.2s ease;
}
.related-card:hover {
  transform: translateY(-4px);
}
.related-card img {
  width: 100%;
  height: 140px;
  object-fit: cover;
}
.related-card-content {
  padding: 1rem;
}
.related-card-content h4 {
  margin: 0 0 0.5rem;
  font-size: 1rem;
}
.related-card-content p {
  font-size: 0.9rem;
  color: #64748b;
  margin: 0;
}
.related-card-content a {
  text-decoration: none;
  color: #4f46e5;
  font-weight: 600;
}
.related-card-content a:hover {
  color: #1e293b;
}
</style>
<style>
.nav {
  text-align: center !important;
}
.nav li {
  display: inline-block !important;
  float: none !important;
}
</style>
<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1226342433058379"></script>
<link href="https://myipnow.net/unlocking-the-power-of-tcp-commands-unix-expert-tips-and-tricks/" rel="canonical"/><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://myipnow.net/#website","url":"https://myipnow.net/","name":"MyIPNow"},{"@type":"Organization","@id":"https://myipnow.net/#organization","name":"MyIPNow","url":"https://myipnow.net/"},{"@type":"WebPage","@id":"https://myipnow.net/unlocking-the-power-of-tcp-commands-unix-expert-tips-and-tricks/","url":"https://myipnow.net/unlocking-the-power-of-tcp-commands-unix-expert-tips-and-tricks/","name":"Unlocking the Power of Tcp Commands Unix: Expert Tips and Tricks. | MyIPNow","description":"Learn about Unlocking the Power of Tcp Commands Unix: Expert Tips and Tricks. in this detailed guide on General Topics.","isPartOf":{"@id":"https://myipnow.net/#website"},"keywords":"my ip, what is my ip, ip lookup, ip address lookup, free ip lookup tool, ipv4, ipv6, ipv6 lookup, ip geolocation, ip location, check ip, ip tools, public ip, website ip lookup, dns checker ip location, ip proxy checker, whatismyipaddress.com, whatsmyip, whatismyip, networking, privacy, security, myipnow, whatis my ip address, IP address tracker, check IP address, best IP lookup 2025, WhatIsMyIPAddress alternative, online IP checker, internet privacy, network security, online ip lookup tool, ip geolocation tool, website ip checker, website ip address lookup, ip address lookup tool, ip look up tool, ip address search tool, search ip tool, ipv6 ip lookup"},{"@type":"Article","@id":"https://myipnow.net/unlocking-the-power-of-tcp-commands-unix-expert-tips-and-tricks/#article","headline":"Unlocking the Power of Tcp Commands Unix: Expert Tips and Tricks.","description":"Learn about Unlocking the Power of Tcp Commands Unix: Expert Tips and Tricks. in this detailed guide on General Topics.","mainEntityOfPage":"https://myipnow.net/unlocking-the-power-of-tcp-commands-unix-expert-tips-and-tricks/","isPartOf":{"@id":"https://myipnow.net/#website"},"author":{"@type":"Organization","name":"MyIPNow"},"publisher":{"@id":"https://myipnow.net/#organization"},"datePublished":"2025-10-10","dateModified":"2025-10-10","keywords":"my ip, what is my ip, ip lookup, ip address lookup, free ip lookup tool, ipv4, ipv6, ipv6 lookup, ip geolocation, ip location, check ip, ip tools, public ip, website ip lookup, dns checker ip location, ip proxy checker, whatismyipaddress.com, whatsmyip, whatismyip, networking, privacy, security, myipnow, whatis my ip address, IP address tracker, check IP address, best IP lookup 2025, WhatIsMyIPAddress alternative, online IP checker, internet privacy, network security, online ip lookup tool, ip geolocation tool, website ip checker, website ip address lookup, ip address lookup tool, ip look up tool, ip address search tool, search ip tool, ipv6 ip lookup","url":"https://myipnow.net/unlocking-the-power-of-tcp-commands-unix-expert-tips-and-tricks/"}]}</script><style>
@media (max-width: 768px) {
  .category-nav {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    padding-bottom: 10px;
  }
  .category-nav ul {
    display: inline-flex;
    flex-wrap: nowrap;
    white-space: nowrap;
    gap: 1.2rem;
    list-style: none;
    margin: 0;
    padding: 0 1rem;
  }
  .category-nav::-webkit-scrollbar { height: 6px; }
  .category-nav::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
  }
  .nav-tools ul {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    right: auto;
    background: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    list-style: none;
    padding: .5rem 0;
    margin: 0;
    min-width: 220px;
    z-index: 999;
  }
  .nav-tools.open ul { display: block; }
}
</style>



<style>
@media (max-width: 768px) {
  .nav-tools {
    position: static !important;
  }
  .nav-tools ul {
    position: fixed !important;
    top: 60px !important;
    left: 10px;
    right: 10px;
    display: none;
    background: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    z-index: 10000;
  }
  .nav-tools.open ul {
    display: block !important;
  }
  body.menu-open {
    overflow: hidden;
  }
}
</style>



</head>
<body>
<script async crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1226342433058379"></script>

<div class="container"><header class="site-header">
<div class="header-top">
<a class="logo" href="/index.html">🌐 MyIPNow</a>
<form action="/search.html" class="search-form" method="get">
<input aria-label="Search articles" name="q" placeholder="Search..." type="search"/>
<button type="submit">Search</button>
</form>
</div>
<nav aria-label="Article Categories" class="category-nav">
<ul>
<li class="nav-tools"><a href="#">Tools ▾</a>
<ul>
<li><a href="/index.html">IP Lookup</a></li>
<li><a href="/dns-lookup.html">DNS Lookup</a></li>
<li><a href="/whois-lookup.html">WHOIS Lookup</a></li>
<li><a href="/internet-speed-test.html">Internet Speed Test</a></li>
<li><a href="/generate-password.html">Generate Password</a></li>
<li><a href="/ip-blacklist.html">IP Blacklist</a></li>
</ul>
</li>
<li><a href="/online-safety/index.html">Online Safety</a></li>
<li><a href="/online-privacy/index.html">Online Privacy</a></li>
<li><a href="/networking/index.html">Networking</a></li>
<li><a href="/ip-addresses/index.html">IP Addresses</a></li>
<li><a href="/home-computing/index.html">Home Computing</a></li>
<li><a href="/general-topics/index.html">General Topics</a></li>
</ul>
</nav>
</header>
<!-- Header -->
<!-- Page Header --><!-- Article Body -->
<header class="page-header">
<h1>Unlocking the Power of Tcp Commands Unix: Expert Tips and Tricks.</h1>
</header>
<article class="article-body"><p class="article-meta">🗓️ Published on October 10, 2025</p>
<h2>
     Unlocking the Power of Tcp Commands Unix: Expert Tips and Tricks
    </h2>
<p>
     In the world of Unix-based systems, TCP commands play a crucial role in managing network connectivity and troubleshooting issues. Whether you're a seasoned administrator or a curious beginner, mastering these commands can significantly enhance your ability to maintain and optimize network operations. In this article, we will explore essential TCP commands, their uses, and expert tips to help you unlock their full potential. </p>
<h2>
     Understanding TCP and Its Importance
    </h2>
<p>
     TCP, or Transmission Control Protocol, is one of the core protocols of the Internet Protocol Suite. It is responsible for ensuring reliable communication between networked devices. By establishing a connection-oriented communication path, TCP guarantees that data is transmitted accurately and in the correct order. Understanding how to utilize TCP commands in Unix can empower you to:
    </p>
<ul>
<li>
      Diagnose network issues effectively.
     </li>
<li>
      Monitor network traffic.
     </li>
<li>
      Configure and manage network services.
     </li>
<li>
      Troubleshoot connection problems.
     </li>
</ul>
<h2>
     Essential TCP Commands in Unix
    </h2>
<p>Unix offers a variety of TCP commands that are indispensable for anyone working with networked systems. Below is a list of some of the most commonly used commands, along with their functionalities:
    </p>
<h3>
     1.
     <strong>
      netstat
     </strong>
</h3>
<p>
     The
     <code>
      netstat
     </code>
     command provides a comprehensive overview of network connections, routing tables, and interface statistics. By using this command, you can view active TCP connections, which can help in troubleshooting network issues. </p>
<pre><code>netstat -tuln</code></pre>
<p>
     This command shows all listening ports and the associated processes, making it an invaluable tool for network diagnostics. </p>
<h3>
     2.
     <strong>
      ping
     </strong>
</h3>
<p>The <code> ping </code> command is used to test the reachability of hosts on a connection. It sends ICMP echo requests and waits for replies, allowing you to check if a specific server is reachable. </p>
<pre><code>ping example.com</code></pre>
<p>
     This command can help you determine if a host is online and measure the round-trip time for messages sent from your system to the destination. </p>
<h3>
     3.
     <strong>
      traceroute
     </strong>
</h3>
<p>The <code> traceroute </code> command is useful for tracking the path that data packets take from your computer to a specific destination. It displays each hop along the way, which can help identify network bottlenecks. </p>
<pre><code>traceroute example.com</code></pre>
<p>This command is particularly helpful for diagnosing routing issues or understanding the network topology. </p>
<h3>
     4.
     <strong>
      tcpdump
     </strong>
</h3>
<p>
     For those who require deeper insights into network traffic, the
     <code>
      tcpdump
     </code>
     command captures packets on a network interface. It is a powerful tool for analyzing traffic and troubleshooting network problems. </p>
<pre><code>tcpdump -i eth0</code></pre>
<p>This command captures packets on the specified interface (in this case, <code> eth0 </code> ) and displays them in real-time, allowing you to analyze the data being transmitted over the system. </p>
<h3>
     5.
     <strong>
      ss
     </strong>
</h3>
<p>
     The
     <code>
      ss
     </code>
     command is a modern replacement for
     <code>
      netstat
     </code>
     , providing similar information but with more detailed insights into socket connections. It is faster and can display information about TCP, UDP, and UNIX sockets. </p>
<pre><code>ss -tuln</code></pre>
<p>
     This command will show all listening sockets along with their associated processes, allowing for quick diagnostics of open connections. </p>
<h2>
     Expert Tips for Using TCP Commands
    </h2>
<p>Now that we've covered essential TCP commands, let’s delve into some expert tips that can enhance your efficiency and effectiveness when using these tools. </p>
<h3>
     1. Combine Commands for Greater Insight
    </h3>
<p>Many TCP commands can be combined with other Unix utilities for increased functionality. For example, you can pipe the output of
     <code>
      netstat
     </code>
     to
     <code>
      grep
     </code>
     to filter results:
    </p>
<pre><code>netstat -tuln | grep LISTEN</code></pre>
<p>
     This command will show only the ports that are currently in the listening state, making it easier to identify active services. </p>
<h3>
     2. Use Scripting to Automate Diagnostics
    </h3>
<p>
     For regular network monitoring, consider writing shell scripts that automate the execution of TCP commands. This can save time and ensure consistent diagnostics. A simple script might look like this:</p>
<pre><code>#!/bin/bash
echo "Active TCP connections:"
netstat -tuln
echo "Ping results for example.com:"
ping -c 4 example.com</code></pre>
<p>This script provides a quick overview of active connections and the status of a specific host with just a single command. </p>
<h3>
     3. Regularly Monitor Network Performance
    </h3>
<p>
     Establish a routine for network performance monitoring using commands like
     <code>
      ss
     </code>
     and
     <code>
      tcpdump
     </code>
     . This proactive approach can help you identify issues before they escalate. </p>
<h3>
     4. Familiarize Yourself with Network Protocols
    </h3>
<p>Understanding the various connection protocols and their behaviors can provide context for the information returned by TCP commands. This knowledge can improve your troubleshooting skills and allow you to take more informed actions. </p>
<h2>
     Troubleshooting Common Network Issues
    </h2>
<p>
     Network issues can arise for various reasons, and using TCP commands effectively can help you identify and resolve these issues quickly. Here are some common problems and how to use TCP commands to troubleshoot them:</p>
<h3>
     1. Connection Refused
    </h3>
<p>If you encounter a "connection refused" error, it may indicate that the service is not running on the target host or is not listening on the specified port. Use
     <code>
      netstat
     </code>
     to check for active services:
    </p>
<pre><code>netstat -tuln</code></pre>
<p>
     If the service is not listed, you may need to start it or check its configuration. </p>
<h3>
     2. High Latency
    </h3>
<p>
     High latency can affect the performance of network applications. Use the <code> ping </code> command to measure round-trip time and identify any potential delays:</p>
<pre><code>ping example.com</code></pre>
<p>
     If latency is high, consider using
     <code>
      traceroute
     </code>
     to pinpoint where the delays are occurring in the network path. </p>
<h3>
     3. Packet Loss
    </h3>
<p>Packet loss can lead to degraded network performance. Use
     <code>
      tcpdump
     </code>
     to analyze traffic and identify patterns that may indicate packet loss:
    </p>
<pre><code>tcpdump -i eth0</code></pre>
<p>
     Look for retransmissions and out-of-order packets, which can provide clues about underlying network issues. </p>
<h2>
     Conclusion
    </h2>
<p>
     Mastering TCP commands in Unix is essential for anyone involved in network administration or troubleshooting. By understanding and effectively utilizing commands like
     <code>
      netstat
     </code>
     ,
     <code>
      ping
     </code>
     , and
     <code>
      tcpdump
     </code>
     , you can diagnose and resolve network issues with greater efficiency. Implementing the expert tips and tricks outlined in this article will further enhance your skills, allowing you to unlock the full power of TCP commands. </p>
<p>
     As you continue to explore the world of Unix and networking, remember that practice makes perfect. Regularly using these commands will help you become more proficient and confident in managing network operations. </p>
<div class="references"><p>References:</p><ul><li><a href="https://www.iana.org/" rel="noopener noreferrer" target="_blank">IANA – Internet Assigned Numbers Authority</a></li><li><a href="https://www.arin.net/" rel="noopener noreferrer" target="_blank">ARIN – American Registry for Internet Numbers</a></li><li><a href="https://www.ripe.net/" rel="noopener noreferrer" target="_blank">RIPE NCC – Network Coordination Centre</a></li><li><a href="https://www.cloudflare.com/learning/dns/what-is-dns/" rel="noopener noreferrer" target="_blank">Cloudflare DNS Learning</a></li><li><a href="https://en.wikipedia.org/wiki/IP_address" rel="noopener noreferrer" target="_blank">Wikipedia – IP Address</a></li></ul></div><section class="see-also"><h2>See Also</h2><ul><li><a href="/the-future-of-ipv-market-emerging-threats-and-solutions/">The Future of Ipv Market: Emerging Threats and Solutions. | MyIPNow</a></li><li><a href="/advanced-guide-to-browsing-incognito-browse-and-prevention/">Advanced Guide to Browsing Incognito Browse and Prevention. | MyIPNow</a></li><li><a href="/the-future-of-hidden-dangers-people-emerging-threats-and-solutions/">The Future of Hidden Dangers People: Emerging Threats and Solutions. | MyIPNow</a></li><li><a href="/is-your-dont-connect-vulnerable-a-comprehensive-security-audit/">Is Your Dont Connect Vulnerable? A Comprehensive Security Audit. | MyIPNow</a></li><li><a href="/the-definitive-guide-to-tor-in-the-age-of-ai/">The Definitive Guide to Tor in the Age of AI. | MyIPNow</a></li></ul></section><p class="updated-date">Last updated: November 1, 2025</p></article><!-- Pagination (Next / Prev / Back) --><!-- Related Articles --><!-- Pagination (Next / Prev / Back) --><!-- Related Articles --><div class="article-pagination" style="display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:1rem;"><a href="/unlocking-the-power-of-talk-kids-internet-expert-tips-and-tricks/" style="justify-self:start;">← Previous Article</a><a href="/general-topics/page58.html" id="returnToCategory" style="justify-self:center;">↑ Return to Category</a><a href="/unlocking-the-power-of-tech-innovations-made-expert-tips-and-tricks/" style="justify-self:end;">Next Article →</a></div><footer class="footer">
<ul class="footer-nav">
<li>
<a href="/about.html">
       About
      </a>
</li>
<li>
<a href="/contact.html">
       Contact
      </a>
</li>
<li>
<a href="/privacy-policy.html">
       Privacy Policy
      </a>
</li>
<li>
<a href="/terms-of-use.html">
       Terms of Use
      </a>
</li>
<li>
<a href="/affiliate-disclosure.html">
       Affiliate Disclosure
      </a>
</li>
</ul>
<div class="footer-copyright">
     © 2025 MyIPNow. All Rights Reserved.
    </div>
</footer><!-- Related Articles --></div>
<script id="article-return-v3">
(function(){
  var KEY='catStateV3'; // { url, scroll }
  var CAT_RE=/^\/(online-safety|online-privacy|networking|ip-addresses|home-computing|general-topics)\//;

  function init(){
    var btn = document.getElementById('returnToCategory');
    if (!btn) return;

    var raw = null, url=null;
    try {
      raw = sessionStorage.getItem(KEY);
      if (raw){
        var st = JSON.parse(raw);
        url = st && st.url;
      }
    } catch(e){}

    // If we have a stored category URL, use it
    if (url && CAT_RE.test(url)) {
      btn.setAttribute('href', url);
      return;
    }

    // Fallback: deduce category from article path and use /<cat>/index.html
    var parts = location.pathname.split('/').filter(Boolean);
    if (parts.length > 0) {
      var cat = '/' + parts[0] + '/';
      if (CAT_RE.test(cat)) {
        btn.setAttribute('href', cat + 'index.html');
      }
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>

























<script id="mobile-header-fix-final">
(function(){
  const tools = document.querySelector('.nav-tools');
  if(!tools) return;
  const trigger = tools.querySelector(':scope > a');
  const dropdown = tools.querySelector(':scope > ul');
  if(!trigger || !dropdown) return;

  let menu=null, backdrop=null, open=false;

  // Desktop hover
  tools.addEventListener('mouseenter',()=>{ if(window.innerWidth>768) dropdown.style.display='block'; });
  tools.addEventListener('mouseleave',()=>{ if(window.innerWidth>768) dropdown.style.display='none'; });

  function closeMenu(){
    if(menu){ menu.remove(); menu=null; }
    if(backdrop){ backdrop.remove(); backdrop=null; }
    dropdown.style.display='none';
    document.body.classList.remove('menu-open');
    open=false;
  }

  function openMenu(e){
    e.preventDefault(); e.stopPropagation();
    if(window.innerWidth>768) return;

    dropdown.style.display='none'; // hide original header dropdown

    if(open){ closeMenu(); return; }

    const rect = trigger.getBoundingClientRect();
    backdrop = document.createElement('div');
    Object.assign(backdrop.style,{
      position:'fixed',top:0,left:0,width:'100vw',height:'100vh',
      background:'transparent',zIndex:9998
    });
    backdrop.addEventListener('click', closeMenu);
    document.body.appendChild(backdrop);

    menu = dropdown.cloneNode(true);
    Object.assign(menu.style,{
      position:'absolute',
      top:`${rect.bottom + window.scrollY + 8}px`,
      left:`${rect.left + window.scrollX}px`,
      minWidth:`${Math.max(rect.width,200)}px`,
      background:'#fff',
      border:'1px solid #e2e8f0',
      borderRadius:'10px',
      boxShadow:'0 10px 30px rgba(0,0,0,0.15)',
      listStyle:'none',
      padding:'.5rem 0',
      margin:0,
      zIndex:9999,
      maxHeight:'70vh',
      overflowY:'auto',
      display:'block',        /* ✅ ensures visible */
      visibility:'visible',   /* ✅ fixes Safari hover ghost */
      opacity:'1'             /* ✅ fully visible */
    });
    menu.querySelectorAll('a').forEach(a=>{
      a.style.display='block';
      a.style.padding='.6rem 1.2rem';
      a.style.color='#1e293b';
      a.style.textDecoration='none';
      a.style.fontWeight='500';
      a.addEventListener('mouseenter',()=>a.style.color='#4f46e5');
      a.addEventListener('mouseleave',()=>a.style.color='#1e293b');
    });

    document.body.appendChild(menu);
    document.body.classList.add('menu-open');
    open=true;
  }

  window.addEventListener('scroll',()=>{ if(!open||!menu)return;
    const rect=trigger.getBoundingClientRect();
    menu.style.top=`${rect.bottom + window.scrollY + 8}px`;
    menu.style.left=`${rect.left + window.scrollX}px`;
  });
  window.addEventListener('resize',closeMenu);
  trigger.addEventListener('click',openMenu);
  trigger.addEventListener('touchstart',openMenu,{passive:false});
})();
</script>
</body>
</html>