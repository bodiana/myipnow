<!DOCTYPE html>

<html lang="en">
<head>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T6F8FV6T');</script>
<meta charset="utf-8"/>
<meta content="/width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="/website" property="og:type"/>
<meta content="/preview.png" property="og:image"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<style>body {font-family: 'Inter', sans-serif; background: #f7f8f9; margin: 0; color: #1e293b; line-height: 1.7;}
    .container {max-width: 900px; margin: 0 auto; padding: 1rem;}
    .site-header {background: #fff; padding: 1rem; margin-bottom: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);}
    .header-top {display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e2e8f0;}
    .logo {font-size: 1.5rem; font-weight: 700; color: #1e293b; text-decoration: none;}
    .search-form {display: flex; flex-grow: 1; max-width: 400px;}
    .search-form input {width: 100%; padding: 0.75rem 1rem; border: 1px solid #e2e8f0; border-radius: 8px 0 0 8px; font-size: 0.9rem;}
    .search-form button {padding: 0.75rem 1rem; border: none; background: #10b981; color: white; border-radius: 0 8px 8px 0; cursor: pointer; font-weight: 500;}
    .category-nav {padding-top: 1rem;}
    .category-nav ul {display: flex; gap: 1.5rem; list-style: none; margin: 0; padding: 0; align-items: center; flex-wrap: wrap; justify-content: center !important;}

.nav-tools {position: relative;}
.nav-tools > a {cursor: default;}
.nav-tools ul {display: none; position: absolute; top: 100%; left: 0; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
.nav-tools ul li a {display: block; padding: .5rem 1rem; color: #1e293b; text-decoration: none;}
.nav-tools ul li a:hover {color: #4f46e5;}
.nav-tools:hover ul {display: block;}


@media(max-width:768px){.category-nav ul {
    overflow-x: auto; white-space: nowrap; padding-bottom: 10px;}

.nav-tools {position: relative;}
.nav-tools > a {cursor: default;}
.nav-tools ul {display: none; position: absolute; top: 100%; left: 0; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
.nav-tools ul li a {display: block; padding: .5rem 1rem; color: #1e293b; text-decoration: none;}
.nav-tools ul li a:hover {color: #4f46e5;}
.nav-tools:hover ul {display: block;}

}

.category-nav a {text-decoration: none; color: var(--text-primary); font-size: 0.9rem; font-weight: 500; transition: color var(--transition-speed);}

.category-nav a:hover {color: var(--accent-color);}
    .page-header {background: #fff; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem; text-align: center;}
    .page-header h1 {font-size: 2.2rem; margin: 0 0 0.5rem;}
    .page-header p {font-size: 1rem; color: #64748b; margin: 0;}
    .article-body {background: #fff; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem;}
    .article-body h2 {margin-top: 2rem; font-size: 1.5rem;}
    .article-body h3 {margin-top: 1.2rem; font-size: 1.2rem;}
    .related {background: #fff; padding: 1.5rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem;}
    .related h3 {margin-top: 0;}
    .related ul {list-style: none; padding: 0;}
    .related li {margin-bottom: 0.5rem;}
    .related a {text-decoration: none; color: #4f46e5;}
    .article-pagination {display: flex; justify-content: space-between; gap: 1rem; margin-bottom: 2rem;}
    .article-pagination a {background: #fff; padding: 0.75rem 1rem; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-decoration: none; color: #1e293b; font-weight: 500;}
    .article-pagination a:hover {background: #4f46e5; color: white;}
    .footer {text-align: center; padding: 2rem 1rem; margin: 2rem auto 0; background: #fff; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);}
    .footer-nav {display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem 1.5rem; list-style: none; padding: 0; margin: 0 0 1rem;}
    .footer-nav a {color: #64748b; text-decoration: none; font-size: 0.9rem;}
    .footer-nav a:hover {color: #4f46e5;}
    .footer-copyright {font-size: 0.85rem; color: #64748b;}
   

.related-grid {display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1rem;}
.related-card {display: flex; flex-direction: column; background: #f9fafb; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.05); transition: transform 0.2s ease;}
.related-card:hover {transform: translateY(-4px);}
.related-card img {width: 100%; height: 140px; object-fit: cover;}
.related-card-content {padding: 1rem;}
.related-card-content h4 {margin: 0 0 0.5rem; font-size: 1rem;}
.related-card-content p {font-size: 0.9rem; color: #64748b; margin: 0;}
.related-card-content a {text-decoration: none; color: #4f46e5; font-weight: 600;}
.related-card-content a:hover {color: #1e293b;}</style>
<style>.nav {text-align: center !important;}
.nav li {display: inline-block !important; float: none !important;}</style>
<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1226342433058379"></script>
<style>@media (max-width: 768px) {.category-nav {
    overflow-x: auto; -webkit-overflow-scrolling: touch; scroll-behavior: smooth; padding-bottom: 10px;}
  .category-nav ul {display: inline-flex; flex-wrap: nowrap; white-space: nowrap; gap: 1.2rem; list-style: none; margin: 0; padding: 0 1rem;}
  .category-nav::-webkit-scrollbar {height: 6px;}
  .category-nav::-webkit-scrollbar-thumb {background: #cbd5e1; border-radius: 4px;}
  .nav-tools ul {display: none; position: absolute; top: 100%; left: 0; right: auto; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
  .nav-tools.open ul {display: block;}
}</style>
<style>@media (max-width: 768px) {.nav-tools {
    position: static !important;}
  .nav-tools ul {position: fixed !important; top: 60px !important; left: 10px; right: 10px; display: none; background: #fff; border: 1px solid #e2e8f0; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); z-index: 10000;}
  .nav-tools.open ul {display: block !important;}
  body.menu-open {overflow: hidden;}
}</style>
<link href="https://myipnow.net/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="https://myipnow.net/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="https://myipnow.net/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
<link href="https://myipnow.net/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="https://myipnow.net/android-chrome-192x192.png" rel="icon" sizes="192x192" type="image/png"/>
<link href="https://myipnow.net/android-chrome-512x512.png" rel="icon" sizes="512x512" type="image/png"/>
<link href="https://myipnow.net/favicon.ico" rel="shortcut icon"/>
<meta content="#ffffff" name="theme-color"/>
<link href="https://myipnow.net/what-is-a-dns-leak" rel="canonical"/>
<script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"Organization","name":"MyIPNow","url":"https://myipnow.net/","logo":{"@type":"ImageObject","url":"https://myipnow.net/favicon-96x96.png"}},{"@type":"WebSite","name":"MyIPNow","url":"https://myipnow.net/"},{"@type":"WebPage","name":"What is a DNS Leak?. | MyIPNow","description":"What is a DNS Leak?. Learn more with MyIPNow. Accurate, fast, and privacy-focused internet tools.","url":"https://myipnow.net/what-is-a-dns-leak/","inLanguage":"en","mainEntityOfPage":"https://myipnow.net/what-is-a-dns-leak/","@id":"https://myipnow.net/what-is-a-dns-leak/"},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://myipnow.net/"},{"@type":"ListItem","position":2,"name":"What is a DNS Leak?. | MyIPNow","item":"https://myipnow.net/what-is-a-dns-leak/"}]},{"@type":"FAQPage","mainEntity":[{"@type":"Question","name":"What is the difference between a DNS leak and an IP leak?","acceptedAnswer":{"@type":"Answer","text":"A DNS leak exposes your DNS queries, revealing the websites you visit, while an IP leak exposes your actual IP address. Both compromise privacy but in different ways."}},{"@type":"Question","name":"Can all VPNs prevent DNS leaks?","acceptedAnswer":{"@type":"Answer","text":"No. Not all VPNs have built-in DNS leak protection. It is important to choose a VPN that explicitly offers this feature and properly routes DNS queries through its own servers."}},{"@type":"Question","name":"How often should I test for DNS leaks?","acceptedAnswer":{"@type":"Answer","text":"It is advisable to test for DNS leaks whenever you connect to a new VPN server, after VPN updates, or periodically to ensure ongoing protection."}},{"@type":"Question","name":"Are DNS leaks only a problem on desktop devices?","acceptedAnswer":{"@type":"Answer","text":"No. DNS leaks can occur on any device, including smartphones, tablets, and routers, depending on how the VPN and DNS settings are configured."}},{"@type":"Question","name":"Is using encrypted DNS enough to prevent DNS leaks?","acceptedAnswer":{"@type":"Answer","text":"Encrypted DNS protocols like DoH and DoT enhance privacy but must be properly integrated with your VPN to prevent leaks. Using encrypted DNS alone without a VPN does not mask your IP address."}}]}]}</script>
<title>What Is A Dns Leak | MyIPNow</title><meta content="What Is A Dns Leak tool. Fast, accurate and privacy-focused. Use MyIPNow for IP lookup, ASN lookup, DNS lookup, WHOIS, IP blacklist check, subnet calculator and networking tools." name="description"/><meta content="What Is A Dns Leak | MyIPNow" property="og:title"/><meta content="What Is A Dns Leak tool. Fast, accurate and privacy-focused. Use MyIPNow for IP lookup, ASN lookup, DNS lookup, WHOIS, IP blacklist check, subnet calculator and networking tools." property="og:description"/><meta content="https://myipnow.net/what-is-a-dns-leak.html" property="og:url"/></head>
<body>
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns?id=GTM-T6F8FV6T" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<div class="container"><header class="site-header">
<div class="header-top">
<a class="logo" href="https://myipnow.net/">üåê MyIPNow</a>
<form action="/search.html" class="search-form" method="get">
<input aria-label="Search articles" name="q" placeholder="Search..." type="search"/>
<button type="submit">Search</button>
</form>
</div>
<nav aria-label="Article Categories" class="category-nav">
<ul>
<li class="nav-tools"><a href="https://myipnow.net/#">Tools ‚ñæ</a>
<ul>
<li><a href="https://myipnow.net/">IP Lookup</a></li>
<li><a href="https://myipnow.net/dns-lookup">DNS Lookup</a></li>
<li><a href="https://myipnow.net/whois-lookup">WHOIS Lookup</a></li>
<li><a href="https://myipnow.net/internet-speed-test">Internet Speed Test</a></li>
<li><a href="https://myipnow.net/generate-password">Generate Password</a></li>
<li><a href="https://myipnow.net/ip-blacklist">IP Blacklist</a></li>
</ul>
</li>
<li><a href="https://myipnow.net/online-safety/">Online Safety</a></li>
<li><a href="https://myipnow.net/online-privacy/">Online Privacy</a></li>
<li><a href="https://myipnow.net/networking/">Networking</a></li>
<li><a href="https://myipnow.net/ip-addresses/">IP Addresses</a></li>
<li><a href="https://myipnow.net/home-computing/">Home Computing</a></li>
<li><a href="https://myipnow.net/general-topics/">General Topics</a></li>
</ul>
</nav>
</header>
<header class="page-header">
<h1>What is a DNS Leak?</h1>
</header>
<article class="article-body"><h2>Direct Answer: What is a DNS Leak?</h2>
<p>A DNS leak happens when your device‚Äôs DNS queries are sent outside the encrypted tunnel of a VPN, exposing your browsing activity to your Internet Service Provider (ISP) or other third parties. Despite using a VPN to mask your IP address and encrypt your internet traffic, a DNS leak can undermine your privacy by revealing the websites you visit through unprotected DNS requests.</p>
<h2>Understanding DNS and Its Role in Internet Privacy</h2>
<p>The Domain Name System (DNS) is often described as the phonebook of the internet. When you enter a website address, your device performs a DNS lookup to translate the human-readable domain name into an IP address that computers use to communicate.</p>
<p>This translation process is essential for internet functionality but also a potential privacy vulnerability. DNS queries are typically sent in plaintext to your ISP‚Äôs DNS servers by default, allowing them to monitor your browsing habits even if your web traffic is encrypted.</p>
<h3>How DNS Works</h3>
<ul>
<li>Your device sends a DNS query to a DNS resolver.</li>
<li>The resolver translates the domain name (e.g., example.com) into an IP address.</li>
<li>Your device uses the IP address to connect to the website.</li>
</ul>
<p>Because DNS queries are usually unencrypted, they can be intercepted or logged by ISPs, governments, or malicious actors.</p>
<h2>What Causes a DNS Leak?</h2>
<p>A DNS leak occurs when DNS queries bypass the VPN tunnel and are sent directly to your ISP‚Äôs DNS servers or other third-party DNS resolvers. This can happen due to several reasons:</p>
<h3>Common Causes of DNS Leaks</h3>
<ul>
<li><strong>Improper VPN Configuration:</strong> Some VPNs do not route DNS queries through their own servers by default, causing queries to leak to the ISP.</li>
<li><strong>Operating System Behavior:</strong> Certain operating systems, especially Windows, may send DNS requests outside the VPN tunnel due to built-in features like Smart Multi-Homed Name Resolution.</li>
<li><strong>IPv6 Traffic:</strong> Many VPNs only handle IPv4 traffic, leaving IPv6 DNS queries unprotected and exposed.</li>
<li><strong>Third-Party Software:</strong> Some applications or malware may override DNS settings and send queries outside the VPN.</li>
<li><strong>VPN Kill Switch Failure:</strong> If a VPN connection drops and the kill switch is not enabled or functioning, DNS queries may revert to the default resolver.</li>
</ul>
<h2>Why DNS Leaks Matter: Privacy and Security Risks</h2>
<p>DNS leaks compromise the primary purpose of using a VPN: to maintain online privacy and anonymity. Even if your IP address is masked, leaking DNS queries can reveal the websites you visit, allowing your ISP, government agencies, or attackers to track your online behavior.</p>
<h3>Specific Risks Associated with DNS Leaks</h3>
<ul>
<li><strong>ISP Monitoring:</strong> Your ISP can log your browsing history and potentially sell this data or hand it over to authorities.</li>
<li><strong>Targeted Advertising:</strong> Advertisers can use DNS data to build profiles and serve targeted ads.</li>
<li><strong>Government Surveillance:</strong> In restrictive regimes, DNS leaks can expose users to censorship or legal consequences.</li>
<li><strong>Security Threats:</strong> Attackers can exploit DNS leaks to perform man-in-the-middle attacks or DNS spoofing.</li>
</ul>
<h2>How to Detect a DNS Leak</h2>
<p>Detecting a DNS leak involves testing whether your DNS queries are routed through your VPN or leaked to your ISP. Several online tools allow you to perform DNS leak tests by analyzing the DNS servers your device is using.</p>
<p>To check for leaks, connect to your VPN and visit a DNS leak test website. The test will display the DNS servers handling your queries. If the servers belong to your ISP or unexpected third parties, a DNS leak is present.</p>
<p>For a deeper understanding of DNS queries and to verify the DNS records your device is requesting, you can <a href="https://myipnow.net/dns-lookup">look up DNS records</a> manually using specialized tools.</p>
<h2>Preventing and Fixing DNS Leaks</h2>
<p>Preventing DNS leaks requires a combination of proper VPN selection, configuration, and system settings adjustments.</p>
<h3>Best Practices to Prevent DNS Leaks</h3>
<ul>
<li><strong>Use a VPN with Built-in DNS Leak Protection:</strong> Choose VPN providers that route DNS queries through their own encrypted servers and offer DNS leak protection features.</li>
<li><strong>Disable IPv6:</strong> Since many VPNs do not support IPv6, disabling it on your device can prevent IPv6 DNS leaks.</li>
<li><strong>Configure Custom DNS Servers:</strong> Manually set your DNS servers to trusted providers that support encrypted DNS protocols like DNS over HTTPS (DoH) or DNS over TLS (DoT).</li>
<li><strong>Enable VPN Kill Switch:</strong> This feature blocks all internet traffic if the VPN connection drops, preventing DNS queries from leaking.</li>
<li><strong>Regularly Test for Leaks:</strong> Periodically perform DNS leak tests to ensure your VPN is functioning correctly.</li>
<li><strong>Update VPN and System Software:</strong> Keep your VPN client and operating system updated to benefit from security patches and improved leak protection.</li>
</ul>
<h3>Additional Privacy Measures</h3>
<p>To further enhance your privacy, consider combining VPN use with other tools and practices. For example, you can <a href="https://myipnow.net/hide-my-ip">mask your IP address with a VPN</a> alongside using privacy-focused browsers and encrypted DNS services.</p>
<h2>Conclusion</h2>
<p>A DNS leak undermines the privacy and security benefits of a VPN by exposing your DNS queries to your ISP or other third parties. Understanding what causes DNS leaks and how to detect and prevent them is critical for maintaining online anonymity. By selecting a reliable VPN with DNS leak protection, configuring your system correctly, and regularly testing for leaks, you can safeguard your browsing activity from unwanted surveillance and tracking.</p>
<h2>FAQ</h2>
<h3>What is the difference between a DNS leak and an IP leak?</h3>
<p>A DNS leak exposes your DNS queries, revealing the websites you visit, while an IP leak exposes your actual IP address. Both compromise privacy but in different ways.</p>
<h3>Can all VPNs prevent DNS leaks?</h3>
<p>No. Not all VPNs have built-in DNS leak protection. It is important to choose a VPN that explicitly offers this feature and properly routes DNS queries through its own servers.</p>
<h3>How often should I test for DNS leaks?</h3>
<p>It is advisable to test for DNS leaks whenever you connect to a new VPN server, after VPN updates, or periodically to ensure ongoing protection.</p>
<h3>Are DNS leaks only a problem on desktop devices?</h3>
<p>No. DNS leaks can occur on any device, including smartphones, tablets, and routers, depending on how the VPN and DNS settings are configured.</p>
<h3>Is using encrypted DNS enough to prevent DNS leaks?</h3>
<p>Encrypted DNS protocols like DoH and DoT enhance privacy but must be properly integrated with your VPN to prevent leaks. Using encrypted DNS alone without a VPN does not mask your IP address.</p><section class="see-also"><h2>See Also</h2><ul><li><a href="https://myipnow.net/how-to-check-dns-records">How To Check Dns Records</a></li><li><a href="https://myipnow.net/what-is-a-mx-record">What Is A Mx Record</a></li><li><a href="https://myipnow.net/what-is-dns-flush">What Is Dns Flush</a></li><li><a href="https://myipnow.net/what-is-an-a-record">What Is An A Record</a></li><li><a href="https://myipnow.net/can-dns-leak-your-ip">Can Dns Leak Your Ip</a></li></ul></section></article><footer class="footer">
<ul class="footer-nav">
<li>
<a href="https://myipnow.net/about">
       About
      </a>
</li>
<li>
<a href="https://myipnow.net/contact">
       Contact
      </a>
</li>
<li>
<a href="https://myipnow.net/privacy-policy">
       Privacy Policy
      </a>
</li>
<li>
<a href="https://myipnow.net/terms-of-use">
       Terms of Use
      </a>
</li>
<li>
<a href="https://myipnow.net/affiliate-disclosure">
       Affiliate Disclosure
      </a>
</li>
</ul>
<div class="footer-copyright">
     ¬© 2026 MyIPNow. All Rights Reserved.
    </div>
</footer></div>
<script id="article-return-v3">
(function(){
  var KEY='catStateV3'; // { url, scroll }
  var CAT_RE=/^\/(online-safety|online-privacy|networking|ip-addresses|home-computing|general-topics)\//;

  function init(){
    var btn = document.getElementById('returnToCategory');
    if (!btn) return;

    var raw = null, url=null;
    try {
      raw = sessionStorage.getItem(KEY);
      if (raw){
        var st = JSON.parse(raw);
        url = st && st.url;
      }
    } catch(e){}

    // If we have a stored category URL, use it
    if (url && CAT_RE.test(url)) {
      btn.setAttribute('href', url);
      return;
    }

    // Fallback: deduce category from article path and use /<cat>/index
    var parts = location.pathname.split('/').filter(Boolean);
    if (parts.length > 0) {
      var cat = '/' + parts[0] + '/';
      if (CAT_RE.test(cat)) {
        btn.setAttribute('href', cat + 'index');
      }
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>
<script id="mobile-header-fix-final">
(function(){
  const tools = document.querySelector('.nav-tools');
  if(!tools) return;
  const trigger = tools.querySelector(':scope > a');
  const dropdown = tools.querySelector(':scope > ul');
  if(!trigger || !dropdown) return;

  let menu=null, backdrop=null, open=false;

  // Desktop hover
  tools.addEventListener('mouseenter',()=>{ if(window.innerWidth>768) dropdown.style.display='block'; });
  tools.addEventListener('mouseleave',()=>{ if(window.innerWidth>768) dropdown.style.display='none'; });

  function closeMenu(){
    if(menu){ menu.remove(); menu=null; }
    if(backdrop){ backdrop.remove(); backdrop=null; }
    dropdown.style.display='none';
    document.body.classList.remove('menu-open');
    open=false;
  }

  function openMenu(e){
    e.preventDefault(); e.stopPropagation();
    if(window.innerWidth>768) return;

    dropdown.style.display='none'; // hide original header dropdown

    if(open){ closeMenu(); return; }

    const rect = trigger.getBoundingClientRect();
    backdrop = document.createElement('div');
    Object.assign(backdrop.style,{
      position:'fixed',top:0,left:0,width:'100vw',height:'100vh',
      background:'transparent',zIndex:9998
    });
    backdrop.addEventListener('click', closeMenu);
    document.body.appendChild(backdrop);

    menu = dropdown.cloneNode(true);
    Object.assign(menu.style,{
      position:'absolute',
      top:`${rect.bottom + window.scrollY + 8}px`,
      left:`${rect.left + window.scrollX}px`,
      minWidth:`${Math.max(rect.width,200)}px`,
      background:'#fff',
      border:'1px solid #e2e8f0',
      borderRadius:'10px',
      boxShadow:'0 10px 30px rgba(0,0,0,0.15)',
      listStyle:'none',
      padding:'.5rem 0',
      margin:0,
      zIndex:9999,
      maxHeight:'70vh',
      overflowY:'auto',
      display:'block',        /* ‚úÖ ensures visible */
      visibility:'visible',   /* ‚úÖ fixes Safari hover ghost */
      opacity:'1'             /* ‚úÖ fully visible */
    });
    menu.querySelectorAll('a').forEach(a=>{
      a.style.display='block';
      a.style.padding='.6rem 1.2rem';
      a.style.color='#1e293b';
      a.style.textDecoration='none';
      a.style.fontWeight='500';
      a.addEventListener('mouseenter',()=>a.style.color='#4f46e5');
      a.addEventListener('mouseleave',()=>a.style.color='#1e293b');
    });

    document.body.appendChild(menu);
    document.body.classList.add('menu-open');
    open=true;
  }

  window.addEventListener('scroll',()=>{ if(!open||!menu)return;
    const rect=trigger.getBoundingClientRect();
    menu.style.top=`${rect.bottom + window.scrollY + 8}px`;
    menu.style.left=`${rect.left + window.scrollX}px`;
  });
  window.addEventListener('resize',closeMenu);
  trigger.addEventListener('click',openMenu);
  trigger.addEventListener('touchstart',openMenu,{passive:false});
})();
</script>
</body>
</html>