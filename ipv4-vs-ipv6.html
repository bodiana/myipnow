<!DOCTYPE html>

<html lang="en">
<head>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T6F8FV6T');</script>
<meta charset="utf-8"/>
<meta content="/width=device-width, initial-scale=1.0" name="viewport"/>
<title>IPv4 vs IPv6: Understanding the Differences and Future of Internet Protocols. | MyIPNow</title>
<meta content="/IPv4 vs IPv6: Understanding the Differences and Future of Internet Protocols. | MyIPNow" property="og:title"/>
<meta content="/IPv4 vs IPv6: Understanding the Differences and Future of Internet Protocols. Learn more with MyIPNow. Accurate, fast, and privacy-focused internet tools" property="og:description"/>
<meta content="/website" property="og:type"/>
<meta content="/preview.png" property="og:image"/>
<meta content="https://myipnow.net/ipv4-vs-ipv6" property="og:url"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<style>body {font-family: 'Inter', sans-serif; background: #f7f8f9; margin: 0; color: #1e293b; line-height: 1.7;}
    .container {max-width: 900px; margin: 0 auto; padding: 1rem;}
    .site-header {background: #fff; padding: 1rem; margin-bottom: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);}
    .header-top {display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e2e8f0;}
    .logo {font-size: 1.5rem; font-weight: 700; color: #1e293b; text-decoration: none;}
    .search-form {display: flex; flex-grow: 1; max-width: 400px;}
    .search-form input {width: 100%; padding: 0.75rem 1rem; border: 1px solid #e2e8f0; border-radius: 8px 0 0 8px; font-size: 0.9rem;}
    .search-form button {padding: 0.75rem 1rem; border: none; background: #10b981; color: white; border-radius: 0 8px 8px 0; cursor: pointer; font-weight: 500;}
    .category-nav {padding-top: 1rem;}
    .category-nav ul {display: flex; gap: 1.5rem; list-style: none; margin: 0; padding: 0; align-items: center; flex-wrap: wrap; justify-content: center !important;}

.nav-tools {position: relative;}
.nav-tools > a {cursor: default;}
.nav-tools ul {display: none; position: absolute; top: 100%; left: 0; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
.nav-tools ul li a {display: block; padding: .5rem 1rem; color: #1e293b; text-decoration: none;}
.nav-tools ul li a:hover {color: #4f46e5;}
.nav-tools:hover ul {display: block;}


@media(max-width:768px){.category-nav ul {
    overflow-x: auto; white-space: nowrap; padding-bottom: 10px;}

.nav-tools {position: relative;}
.nav-tools > a {cursor: default;}
.nav-tools ul {display: none; position: absolute; top: 100%; left: 0; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
.nav-tools ul li a {display: block; padding: .5rem 1rem; color: #1e293b; text-decoration: none;}
.nav-tools ul li a:hover {color: #4f46e5;}
.nav-tools:hover ul {display: block;}

}

.category-nav a {text-decoration: none; color: var(--text-primary); font-size: 0.9rem; font-weight: 500; transition: color var(--transition-speed);}

.category-nav a:hover {color: var(--accent-color);}
    .page-header {background: #fff; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem; text-align: center;}
    .page-header h1 {font-size: 2.2rem; margin: 0 0 0.5rem;}
    .page-header p {font-size: 1rem; color: #64748b; margin: 0;}
    .article-body {background: #fff; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem;}
    .article-body h2 {margin-top: 2rem; font-size: 1.5rem;}
    .article-body h3 {margin-top: 1.2rem; font-size: 1.2rem;}
    .related {background: #fff; padding: 1.5rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem;}
    .related h3 {margin-top: 0;}
    .related ul {list-style: none; padding: 0;}
    .related li {margin-bottom: 0.5rem;}
    .related a {text-decoration: none; color: #4f46e5;}
    .article-pagination {display: flex; justify-content: space-between; gap: 1rem; margin-bottom: 2rem;}
    .article-pagination a {background: #fff; padding: 0.75rem 1rem; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-decoration: none; color: #1e293b; font-weight: 500;}
    .article-pagination a:hover {background: #4f46e5; color: white;}
    .footer {text-align: center; padding: 2rem 1rem; margin: 2rem auto 0; background: #fff; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);}
    .footer-nav {display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem 1.5rem; list-style: none; padding: 0; margin: 0 0 1rem;}
    .footer-nav a {color: #64748b; text-decoration: none; font-size: 0.9rem;}
    .footer-nav a:hover {color: #4f46e5;}
    .footer-copyright {font-size: 0.85rem; color: #64748b;}
   

.related-grid {display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1rem;}
.related-card {display: flex; flex-direction: column; background: #f9fafb; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.05); transition: transform 0.2s ease;}
.related-card:hover {transform: translateY(-4px);}
.related-card img {width: 100%; height: 140px; object-fit: cover;}
.related-card-content {padding: 1rem;}
.related-card-content h4 {margin: 0 0 0.5rem; font-size: 1rem;}
.related-card-content p {font-size: 0.9rem; color: #64748b; margin: 0;}
.related-card-content a {text-decoration: none; color: #4f46e5; font-weight: 600;}
.related-card-content a:hover {color: #1e293b;}</style>
<style>.nav {text-align: center !important;}
.nav li {display: inline-block !important; float: none !important;}</style>
<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1226342433058379"></script>
<style>@media (max-width: 768px) {.category-nav {
    overflow-x: auto; -webkit-overflow-scrolling: touch; scroll-behavior: smooth; padding-bottom: 10px;}
  .category-nav ul {display: inline-flex; flex-wrap: nowrap; white-space: nowrap; gap: 1.2rem; list-style: none; margin: 0; padding: 0 1rem;}
  .category-nav::-webkit-scrollbar {height: 6px;}
  .category-nav::-webkit-scrollbar-thumb {background: #cbd5e1; border-radius: 4px;}
  .nav-tools ul {display: none; position: absolute; top: 100%; left: 0; right: auto; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
  .nav-tools.open ul {display: block;}
}</style>
<style>@media (max-width: 768px) {.nav-tools {
    position: static !important;}
  .nav-tools ul {position: fixed !important; top: 60px !important; left: 10px; right: 10px; display: none; background: #fff; border: 1px solid #e2e8f0; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); z-index: 10000;}
  .nav-tools.open ul {display: block !important;}
  body.menu-open {overflow: hidden;}
}</style>
<link href="https://myipnow.net/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="https://myipnow.net/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="https://myipnow.net/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
<link href="https://myipnow.net/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="https://myipnow.net/android-chrome-192x192.png" rel="icon" sizes="192x192" type="image/png"/>
<link href="https://myipnow.net/android-chrome-512x512.png" rel="icon" sizes="512x512" type="image/png"/>
<link href="https://myipnow.net/favicon.ico" rel="shortcut icon"/>
<meta content="#ffffff" name="theme-color"/>
<meta content="/IPv4 vs IPv6: Understanding the Differences and Future of Internet Protocols. Learn more with MyIPNow. Accurate, fast, and privacy-focused internet tools" name="description"/>
<link href="https://myipnow.net/ipv4-vs-ipv6" rel="canonical"/>
<script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"Organization","name":"MyIPNow","url":"https://myipnow.net/","logo":{"@type":"ImageObject","url":"https://myipnow.net/favicon-96x96.png"}},{"@type":"WebSite","name":"MyIPNow","url":"https://myipnow.net/"},{"@type":"WebPage","name":"IPv4 vs IPv6: Understanding the Differences and Future of Internet Protocols. | MyIPNow","description":"IPv4 vs IPv6: Understanding the Differences and Future of Internet Protocols. Learn more with MyIPNow. Accurate, fast, and privacy-focused internet tools.","url":"https://myipnow.net/ipv4-vs-ipv6/","inLanguage":"en","mainEntityOfPage":"https://myipnow.net/ipv4-vs-ipv6/","@id":"https://myipnow.net/ipv4-vs-ipv6/"},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://myipnow.net/"},{"@type":"ListItem","position":2,"name":"IPv4 vs IPv6: Understanding the Differences and Future of Internet Protocols. | MyIPNow","item":"https://myipnow.net/ipv4-vs-ipv6/"}]},{"@type":"FAQPage","mainEntity":[{"@type":"Question","name":"What is the main difference between IPv4 and IPv6?","acceptedAnswer":{"@type":"Answer","text":"The main difference is the address length: IPv4 uses 32-bit addresses allowing about 4.3 billion unique addresses, while IPv6 uses 128-bit addresses, providing an exponentially larger address space."}},{"@type":"Question","name":"Can IPv4 and IPv6 communicate directly?","acceptedAnswer":{"@type":"Answer","text":"No, IPv4 and IPv6 are not directly compatible. Transition mechanisms like dual-stack, tunneling, or translation are required for interoperability."}},{"@type":"Question","name":"Is IPv6 more secure than IPv4?","acceptedAnswer":{"@type":"Answer","text":"Yes, IPv6 mandates IPsec support, providing built-in security features, whereas IPv4 supports IPsec optionally."}},{"@type":"Question","name":"Why is IPv6 adoption slow?","acceptedAnswer":{"@type":"Answer","text":"IPv6 adoption is gradual due to the vast existing IPv4 infrastructure, compatibility challenges, and the need for updated hardware and software."}},{"@type":"Question","name":"How can I check if my device supports IPv6?","acceptedAnswer":{"@type":"Answer","text":"You can use tools such as an IP address checker or consult your device‚Äôs network settings to verify IPv6 support."}}]}]}</script>
</head>
<body>
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns?id=GTM-T6F8FV6T" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<div class="container"><header class="site-header">
<div class="header-top">
<a class="logo" href="https://myipnow.net/">üåê MyIPNow</a>
<form action="/search.html" class="search-form" method="get">
<input aria-label="Search articles" name="q" placeholder="Search..." type="search"/>
<button type="submit">Search</button>
</form>
</div>
<nav aria-label="Article Categories" class="category-nav">
<ul>
<li class="nav-tools"><a href="https://myipnow.net/#">Tools ‚ñæ</a>
<ul>
<li><a href="https://myipnow.net/">IP Lookup</a></li>
<li><a href="https://myipnow.net/dns-lookup">DNS Lookup</a></li>
<li><a href="https://myipnow.net/whois-lookup">WHOIS Lookup</a></li>
<li><a href="https://myipnow.net/internet-speed-test">Internet Speed Test</a></li>
<li><a href="https://myipnow.net/generate-password">Generate Password</a></li>
<li><a href="https://myipnow.net/ip-blacklist">IP Blacklist</a></li>
</ul>
</li>
<li><a href="https://myipnow.net/online-safety/">Online Safety</a></li>
<li><a href="https://myipnow.net/online-privacy/">Online Privacy</a></li>
<li><a href="https://myipnow.net/networking/">Networking</a></li>
<li><a href="https://myipnow.net/ip-addresses/">IP Addresses</a></li>
<li><a href="https://myipnow.net/home-computing/">Home Computing</a></li>
<li><a href="https://myipnow.net/general-topics/">General Topics</a></li>
</ul>
</nav>
</header>
<header class="page-header">
<h1>IPv4 vs IPv6: Understanding the Differences and Future of Internet Protocols</h1>
</header>
<article class="article-body"><h2>Direct Answer: IPv4 vs IPv6</h2><p>IPv4 and IPv6 are two versions of the Internet Protocol that govern how devices identify and communicate over networks. IPv4, the fourth version, has been the backbone of the internet since the 1980s but faces limitations due to its 32-bit address space. IPv6, introduced in the late 1990s, addresses these limitations with a 128-bit address space, enhanced security features, and improved routing efficiency. The transition from IPv4 to IPv6 is critical to accommodate the exponential growth of internet-connected devices and to support modern networking requirements.</p><h2>Introduction to Internet Protocols</h2><p>The Internet Protocol (IP) is a set of rules responsible for addressing and routing packets of data so they can travel across networks and arrive at the correct destination. Two primary versions are in use today: IPv4 and IPv6. Understanding their differences is essential for network engineers, IT professionals, and anyone involved in internet infrastructure.</p><h2>IPv4: The Foundation of Modern Networking</h2><h3>Addressing Scheme</h3><p>IPv4 uses a 32-bit address format, which allows for approximately 4.3 billion unique addresses. These addresses are typically written in dotted-decimal notation, such as <code>192.168.1.1</code>. While this seemed sufficient in the early days of the internet, the explosive growth of devices has led to IPv4 address exhaustion.</p><h3>Key Characteristics</h3><ul><li><strong>Address Space:</strong> 4.3 billion addresses (2^32)</li><li><strong>Address Format:</strong> Four octets in dotted-decimal notation</li><li><strong>Header Size:</strong> 20 bytes (without options)</li><li><strong>Security:</strong> Security is optional and typically implemented via IPsec as an add-on</li><li><strong>Fragmentation:</strong> Performed by both sender and routers</li><li><strong>Configuration:</strong> Supports manual, DHCP, and limited auto-configuration</li></ul><h3>Limitations</h3><p>The primary limitation of IPv4 is its limited address space, which has led to widespread use of Network Address Translation (NAT) to extend address usability. NAT, however, complicates end-to-end connectivity and can introduce latency and security challenges.</p><h2>IPv6: The Next Generation Protocol</h2><h3>Addressing Scheme</h3><p>IPv6 expands the address space to 128 bits, allowing for 3.4 x 10^38 unique addresses. This vast address pool eliminates the need for NAT and supports the growing number of internet-connected devices, including IoT devices, mobile phones, and servers.</p><h3>Key Characteristics</h3><ul><li><strong>Address Space:</strong> 3.4 x 10^38 addresses (2^128)</li><li><strong>Address Format:</strong> Eight groups of four hexadecimal digits separated by colons (e.g., <code>2001:0db8:85a3:0000:0000:8a2e:0370:7334</code>)</li><li><strong>Header Size:</strong> 40 bytes, simplified and fixed</li><li><strong>Security:</strong> IPsec is mandatory, providing built-in encryption and authentication</li><li><strong>Fragmentation:</strong> Only performed by the sender, reducing router overhead</li><li><strong>Configuration:</strong> Supports stateless address autoconfiguration (SLAAC) and DHCPv6</li></ul><h3>Improvements Over IPv4</h3><p>IPv6 introduces several enhancements beyond address space expansion:</p><ul><li><strong>Simplified Header:</strong> The IPv6 header is streamlined for faster processing by routers.</li><li><strong>Improved Multicast and Anycast:</strong> Native support for multicast reduces network traffic, and anycast improves routing efficiency.</li><li><strong>Mandatory Security:</strong> IPsec integration ensures secure communication by default.</li><li><strong>Auto-Configuration:</strong> Devices can self-configure without manual intervention or DHCP servers.</li><li><strong>Elimination of NAT:</strong> End-to-end connectivity is restored, improving peer-to-peer applications.</li></ul><h2>Comparative Analysis: IPv4 vs IPv6</h2><h3>Address Capacity and Format</h3><p>IPv4‚Äôs 32-bit addressing limits the number of devices that can be uniquely identified, necessitating workarounds like NAT. IPv6‚Äôs 128-bit addressing vastly expands capacity, future-proofing the internet for decades.</p><h3>Security</h3><p>While IPv4 can implement IPsec, it is optional and often inconsistently applied. IPv6 mandates IPsec support, enhancing security at the protocol level and enabling encrypted, authenticated communications by default.</p><h3>Performance and Routing</h3><p>IPv6‚Äôs simplified header and elimination of fragmentation by routers reduce processing overhead, improving routing efficiency. Additionally, improved multicast support optimizes bandwidth usage.</p><h3>Configuration and Management</h3><p>IPv4 relies heavily on DHCP and manual configuration, which can be complex in large networks. IPv6 supports stateless address autoconfiguration (SLAAC), allowing devices to generate their own addresses, simplifying network management.</p><h3>Compatibility and Transition</h3><p>IPv4 and IPv6 are not directly compatible, requiring transition mechanisms such as dual-stack implementations, tunneling, and translation techniques. This coexistence period is ongoing, with IPv6 adoption steadily increasing worldwide.</p><h2>Why IPv6 Adoption Matters</h2><p>The transition to IPv6 is essential to sustain the growth of the internet. Without IPv6, the limitations of IPv4 will increasingly hinder connectivity, innovation, and security. IPv6 enables the proliferation of IoT, mobile devices, and next-generation applications by providing ample addressing and improved protocol features.</p><h2>Practical Considerations for Network Professionals</h2><ul><li><strong>Assess Infrastructure:</strong> Evaluate existing hardware and software for IPv6 compatibility.</li><li><strong>Plan Transition:</strong> Implement dual-stack environments to support both IPv4 and IPv6 during migration.</li><li><strong>Security Policies:</strong> Update security frameworks to leverage IPv6‚Äôs built-in IPsec capabilities.</li><li><strong>Monitoring and Troubleshooting:</strong> Utilize tools such as an <a href="https://myipnow.net/">IP address checker</a> to monitor IPv6 deployment and diagnose network issues.</li></ul><h2>Conclusion</h2><p>IPv4 and IPv6 serve the same fundamental purpose of addressing and routing internet traffic, but IPv6 is designed to overcome the inherent limitations of IPv4. With a vastly expanded address space, improved security, and enhanced performance, IPv6 is the future of internet protocols. Network professionals must understand these differences and actively plan for IPv6 adoption to ensure scalable, secure, and efficient network operations.</p><h2>FAQ</h2><h3>What is the main difference between IPv4 and IPv6?</h3><p>The main difference is the address length: IPv4 uses 32-bit addresses allowing about 4.3 billion unique addresses, while IPv6 uses 128-bit addresses, providing an exponentially larger address space.</p><h3>Can IPv4 and IPv6 communicate directly?</h3><p>No, IPv4 and IPv6 are not directly compatible. Transition mechanisms like dual-stack, tunneling, or translation are required for interoperability.</p><h3>Is IPv6 more secure than IPv4?</h3><p>Yes, IPv6 mandates IPsec support, providing built-in security features, whereas IPv4 supports IPsec optionally.</p><h3>Why is IPv6 adoption slow?</h3><p>IPv6 adoption is gradual due to the vast existing IPv4 infrastructure, compatibility challenges, and the need for updated hardware and software.</p><h3>How can I check if my device supports IPv6?</h3><p>You can use tools such as an <a href="https://myipnow.net/">IP address checker</a> or consult your device‚Äôs network settings to verify IPv6 support.</p><section class="see-also"><h2>See Also</h2><ul><li><a href="https://myipnow.net/what-is-ip-geolocation">What Is Ip Geolocation</a></li><li><a href="https://myipnow.net/what-is-an-ip-address">What Is An Ip Address</a></li><li><a href="https://myipnow.net/how-to-hide-your-ip-address">How To Hide Your Ip Address</a></li><li><a href="https://myipnow.net/how-to-change-your-ip-address">How To Change Your Ip Address</a></li><li><a href="https://myipnow.net/static-vs-dynamic-ip">Static Vs Dynamic Ip</a></li></ul></section></article><footer class="footer">
<ul class="footer-nav">
<li>
<a href="https://myipnow.net/about">
       About
      </a>
</li>
<li>
<a href="https://myipnow.net/contact">
       Contact
      </a>
</li>
<li>
<a href="https://myipnow.net/privacy-policy">
       Privacy Policy
      </a>
</li>
<li>
<a href="https://myipnow.net/terms-of-use">
       Terms of Use
      </a>
</li>
<li>
<a href="https://myipnow.net/affiliate-disclosure">
       Affiliate Disclosure
      </a>
</li>
</ul>
<div class="footer-copyright">
     ¬© 2026 MyIPNow. All Rights Reserved.
    </div>
</footer></div>
<script id="article-return-v3">
(function(){
  var KEY='catStateV3'; // { url, scroll }
  var CAT_RE=/^\/(online-safety|online-privacy|networking|ip-addresses|home-computing|general-topics)\//;

  function init(){
    var btn = document.getElementById('returnToCategory');
    if (!btn) return;

    var raw = null, url=null;
    try {
      raw = sessionStorage.getItem(KEY);
      if (raw){
        var st = JSON.parse(raw);
        url = st && st.url;
      }
    } catch(e){}

    // If we have a stored category URL, use it
    if (url && CAT_RE.test(url)) {
      btn.setAttribute('href', url);
      return;
    }

    // Fallback: deduce category from article path and use /<cat>/index
    var parts = location.pathname.split('/').filter(Boolean);
    if (parts.length > 0) {
      var cat = '/' + parts[0] + '/';
      if (CAT_RE.test(cat)) {
        btn.setAttribute('href', cat + 'index');
      }
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>
<script id="mobile-header-fix-final">
(function(){
  const tools = document.querySelector('.nav-tools');
  if(!tools) return;
  const trigger = tools.querySelector(':scope > a');
  const dropdown = tools.querySelector(':scope > ul');
  if(!trigger || !dropdown) return;

  let menu=null, backdrop=null, open=false;

  // Desktop hover
  tools.addEventListener('mouseenter',()=>{ if(window.innerWidth>768) dropdown.style.display='block'; });
  tools.addEventListener('mouseleave',()=>{ if(window.innerWidth>768) dropdown.style.display='none'; });

  function closeMenu(){
    if(menu){ menu.remove(); menu=null; }
    if(backdrop){ backdrop.remove(); backdrop=null; }
    dropdown.style.display='none';
    document.body.classList.remove('menu-open');
    open=false;
  }

  function openMenu(e){
    e.preventDefault(); e.stopPropagation();
    if(window.innerWidth>768) return;

    dropdown.style.display='none'; // hide original header dropdown

    if(open){ closeMenu(); return; }

    const rect = trigger.getBoundingClientRect();
    backdrop = document.createElement('div');
    Object.assign(backdrop.style,{
      position:'fixed',top:0,left:0,width:'100vw',height:'100vh',
      background:'transparent',zIndex:9998
    });
    backdrop.addEventListener('click', closeMenu);
    document.body.appendChild(backdrop);

    menu = dropdown.cloneNode(true);
    Object.assign(menu.style,{
      position:'absolute',
      top:`${rect.bottom + window.scrollY + 8}px`,
      left:`${rect.left + window.scrollX}px`,
      minWidth:`${Math.max(rect.width,200)}px`,
      background:'#fff',
      border:'1px solid #e2e8f0',
      borderRadius:'10px',
      boxShadow:'0 10px 30px rgba(0,0,0,0.15)',
      listStyle:'none',
      padding:'.5rem 0',
      margin:0,
      zIndex:9999,
      maxHeight:'70vh',
      overflowY:'auto',
      display:'block',        /* ‚úÖ ensures visible */
      visibility:'visible',   /* ‚úÖ fixes Safari hover ghost */
      opacity:'1'             /* ‚úÖ fully visible */
    });
    menu.querySelectorAll('a').forEach(a=>{
      a.style.display='block';
      a.style.padding='.6rem 1.2rem';
      a.style.color='#1e293b';
      a.style.textDecoration='none';
      a.style.fontWeight='500';
      a.addEventListener('mouseenter',()=>a.style.color='#4f46e5');
      a.addEventListener('mouseleave',()=>a.style.color='#1e293b');
    });

    document.body.appendChild(menu);
    document.body.classList.add('menu-open');
    open=true;
  }

  window.addEventListener('scroll',()=>{ if(!open||!menu)return;
    const rect=trigger.getBoundingClientRect();
    menu.style.top=`${rect.bottom + window.scrollY + 8}px`;
    menu.style.left=`${rect.left + window.scrollX}px`;
  });
  window.addEventListener('resize',closeMenu);
  trigger.addEventListener('click',openMenu);
  trigger.addEventListener('touchstart',openMenu,{passive:false});
})();
</script>
</body>
</html>