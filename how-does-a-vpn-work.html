<!DOCTYPE html>

<html lang="en">
<head>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T6F8FV6T');</script>
<meta charset="utf-8"/>
<meta content="/width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="/website" property="og:type"/>
<meta content="/preview.png" property="og:image"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<style>body {font-family: 'Inter', sans-serif; background: #f7f8f9; margin: 0; color: #1e293b; line-height: 1.7;}
    .container {max-width: 900px; margin: 0 auto; padding: 1rem;}
    .site-header {background: #fff; padding: 1rem; margin-bottom: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);}
    .header-top {display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e2e8f0;}
    .logo {font-size: 1.5rem; font-weight: 700; color: #1e293b; text-decoration: none;}
    .search-form {display: flex; flex-grow: 1; max-width: 400px;}
    .search-form input {width: 100%; padding: 0.75rem 1rem; border: 1px solid #e2e8f0; border-radius: 8px 0 0 8px; font-size: 0.9rem;}
    .search-form button {padding: 0.75rem 1rem; border: none; background: #10b981; color: white; border-radius: 0 8px 8px 0; cursor: pointer; font-weight: 500;}
    .category-nav {padding-top: 1rem;}
    .category-nav ul {display: flex; gap: 1.5rem; list-style: none; margin: 0; padding: 0; align-items: center; flex-wrap: wrap; justify-content: center !important;}

.nav-tools {position: relative;}
.nav-tools > a {cursor: default;}
.nav-tools ul {display: none; position: absolute; top: 100%; left: 0; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
.nav-tools ul li a {display: block; padding: .5rem 1rem; color: #1e293b; text-decoration: none;}
.nav-tools ul li a:hover {color: #4f46e5;}
.nav-tools:hover ul {display: block;}


@media(max-width:768px){.category-nav ul {
    overflow-x: auto; white-space: nowrap; padding-bottom: 10px;}

.nav-tools {position: relative;}
.nav-tools > a {cursor: default;}
.nav-tools ul {display: none; position: absolute; top: 100%; left: 0; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
.nav-tools ul li a {display: block; padding: .5rem 1rem; color: #1e293b; text-decoration: none;}
.nav-tools ul li a:hover {color: #4f46e5;}
.nav-tools:hover ul {display: block;}

}

.category-nav a {text-decoration: none; color: var(--text-primary); font-size: 0.9rem; font-weight: 500; transition: color var(--transition-speed);}

.category-nav a:hover {color: var(--accent-color);}
    .page-header {background: #fff; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem; text-align: center;}
    .page-header h1 {font-size: 2.2rem; margin: 0 0 0.5rem;}
    .page-header p {font-size: 1rem; color: #64748b; margin: 0;}
    .article-body {background: #fff; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem;}
    .article-body h2 {margin-top: 2rem; font-size: 1.5rem;}
    .article-body h3 {margin-top: 1.2rem; font-size: 1.2rem;}
    .related {background: #fff; padding: 1.5rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem;}
    .related h3 {margin-top: 0;}
    .related ul {list-style: none; padding: 0;}
    .related li {margin-bottom: 0.5rem;}
    .related a {text-decoration: none; color: #4f46e5;}
    .article-pagination {display: flex; justify-content: space-between; gap: 1rem; margin-bottom: 2rem;}
    .article-pagination a {background: #fff; padding: 0.75rem 1rem; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-decoration: none; color: #1e293b; font-weight: 500;}
    .article-pagination a:hover {background: #4f46e5; color: white;}
    .footer {text-align: center; padding: 2rem 1rem; margin: 2rem auto 0; background: #fff; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);}
    .footer-nav {display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem 1.5rem; list-style: none; padding: 0; margin: 0 0 1rem;}
    .footer-nav a {color: #64748b; text-decoration: none; font-size: 0.9rem;}
    .footer-nav a:hover {color: #4f46e5;}
    .footer-copyright {font-size: 0.85rem; color: #64748b;}
   

.related-grid {display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1rem;}
.related-card {display: flex; flex-direction: column; background: #f9fafb; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.05); transition: transform 0.2s ease;}
.related-card:hover {transform: translateY(-4px);}
.related-card img {width: 100%; height: 140px; object-fit: cover;}
.related-card-content {padding: 1rem;}
.related-card-content h4 {margin: 0 0 0.5rem; font-size: 1rem;}
.related-card-content p {font-size: 0.9rem; color: #64748b; margin: 0;}
.related-card-content a {text-decoration: none; color: #4f46e5; font-weight: 600;}
.related-card-content a:hover {color: #1e293b;}</style>
<style>.nav {text-align: center !important;}
.nav li {display: inline-block !important; float: none !important;}</style>
<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1226342433058379"></script>
<style>@media (max-width: 768px) {.category-nav {
    overflow-x: auto; -webkit-overflow-scrolling: touch; scroll-behavior: smooth; padding-bottom: 10px;}
  .category-nav ul {display: inline-flex; flex-wrap: nowrap; white-space: nowrap; gap: 1.2rem; list-style: none; margin: 0; padding: 0 1rem;}
  .category-nav::-webkit-scrollbar {height: 6px;}
  .category-nav::-webkit-scrollbar-thumb {background: #cbd5e1; border-radius: 4px;}
  .nav-tools ul {display: none; position: absolute; top: 100%; left: 0; right: auto; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
  .nav-tools.open ul {display: block;}
}</style>
<style>@media (max-width: 768px) {.nav-tools {
    position: static !important;}
  .nav-tools ul {position: fixed !important; top: 60px !important; left: 10px; right: 10px; display: none; background: #fff; border: 1px solid #e2e8f0; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); z-index: 10000;}
  .nav-tools.open ul {display: block !important;}
  body.menu-open {overflow: hidden;}
}</style>
<link href="https://myipnow.net/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="https://myipnow.net/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="https://myipnow.net/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
<link href="https://myipnow.net/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="https://myipnow.net/android-chrome-192x192.png" rel="icon" sizes="192x192" type="image/png"/>
<link href="https://myipnow.net/android-chrome-512x512.png" rel="icon" sizes="512x512" type="image/png"/>
<link href="https://myipnow.net/favicon.ico" rel="shortcut icon"/>
<meta content="#ffffff" name="theme-color"/>
<link href="https://myipnow.net/how-does-a-vpn-work" rel="canonical"/>
<script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"Organization","name":"MyIPNow","url":"https://myipnow.net/","logo":{"@type":"ImageObject","url":"https://myipnow.net/favicon-96x96.png"}},{"@type":"WebSite","name":"MyIPNow","url":"https://myipnow.net/"},{"@type":"WebPage","name":"How Does a VPN Work?. | MyIPNow","description":"How Does a VPN Work?. Learn more with MyIPNow. Accurate, fast, and privacy-focused internet tools.","url":"https://myipnow.net/how-does-a-vpn-work/","inLanguage":"en","mainEntityOfPage":"https://myipnow.net/how-does-a-vpn-work/","@id":"https://myipnow.net/how-does-a-vpn-work/"},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://myipnow.net/"},{"@type":"ListItem","position":2,"name":"How Does a VPN Work?. | MyIPNow","item":"https://myipnow.net/how-does-a-vpn-work/"}]}]}</script>
<title>How Does A Vpn Work | MyIPNow</title><meta content="How Does A Vpn Work tool. Fast, accurate and privacy-focused. Use MyIPNow for IP lookup, ASN lookup, DNS lookup, WHOIS, IP blacklist check, subnet calculator and networking tools." name="description"/><meta content="How Does A Vpn Work | MyIPNow" property="og:title"/><meta content="How Does A Vpn Work tool. Fast, accurate and privacy-focused. Use MyIPNow for IP lookup, ASN lookup, DNS lookup, WHOIS, IP blacklist check, subnet calculator and networking tools." property="og:description"/><meta content="https://myipnow.net/how-does-a-vpn-work.html" property="og:url"/></head>
<body>
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns?id=GTM-T6F8FV6T" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<div class="container"><header class="site-header">
<div class="header-top">
<a class="logo" href="https://myipnow.net/">üåê MyIPNow</a>
<form action="/search.html" class="search-form" method="get">
<input aria-label="Search articles" name="q" placeholder="Search..." type="search"/>
<button type="submit">Search</button>
</form>
</div>
<nav aria-label="Article Categories" class="category-nav">
<ul>
<li class="nav-tools"><a href="https://myipnow.net/#">Tools ‚ñæ</a>
<ul>
<li><a href="https://myipnow.net/">IP Lookup</a></li>
<li><a href="https://myipnow.net/dns-lookup">DNS Lookup</a></li>
<li><a href="https://myipnow.net/whois-lookup">WHOIS Lookup</a></li>
<li><a href="https://myipnow.net/internet-speed-test">Internet Speed Test</a></li>
<li><a href="https://myipnow.net/generate-password">Generate Password</a></li>
<li><a href="https://myipnow.net/ip-blacklist">IP Blacklist</a></li>
</ul>
</li>
<li><a href="https://myipnow.net/online-safety/">Online Safety</a></li>
<li><a href="https://myipnow.net/online-privacy/">Online Privacy</a></li>
<li><a href="https://myipnow.net/networking/">Networking</a></li>
<li><a href="https://myipnow.net/ip-addresses/">IP Addresses</a></li>
<li><a href="https://myipnow.net/home-computing/">Home Computing</a></li>
<li><a href="https://myipnow.net/general-topics/">General Topics</a></li>
</ul>
</nav>
</header>
<header class="page-header">
<h1>How Does a VPN Work?</h1>
</header>
<article class="article-body"><h2>Direct Answer: What Is a VPN and How Does It Work?</h2>
<p>A Virtual Private Network (VPN) creates a secure, encrypted tunnel between your device and a remote server operated by the VPN provider. This tunnel masks your IP address, encrypts your internet traffic, and routes it through the VPN server, effectively hiding your online activities from your Internet Service Provider (ISP), hackers, and other third parties. By doing so, a VPN enhances your privacy and security, allowing you to use the internet more safely and anonymously.</p>
<h2>The Core Components of VPN Technology</h2>
<p>Understanding how a VPN works requires breaking down its fundamental components and processes:</p>
<h3>1. Encryption</h3>
<p>Encryption is the backbone of VPN security. When you connect to a VPN, your data is encrypted before it leaves your device. This means your information is converted into a coded format that is unreadable to anyone who intercepts it. Only the VPN server has the key to decrypt this data, ensuring confidentiality.</p>
<h3>2. Tunneling Protocols</h3>
<p>Tunneling protocols define how data packets are encapsulated and transmitted between your device and the VPN server. Common protocols include OpenVPN, IKEv2/IPSec, WireGuard, and L2TP/IPSec. Each protocol offers a different balance of speed, security, and compatibility:</p>
<ul>
<li><strong>OpenVPN:</strong> Highly secure and widely supported, OpenVPN uses SSL/TLS for key exchange and is considered the industry standard.</li>
<li><strong>IKEv2/IPSec:</strong> Known for stability and fast reconnection, especially on mobile devices.</li>
<li><strong>WireGuard:</strong> A newer protocol designed for simplicity, speed, and strong cryptography.</li>
<li><strong>L2TP/IPSec:</strong> Older and less efficient but still used for compatibility reasons.</li>
</ul>
<h3>3. VPN Server</h3>
<p>The VPN server acts as an intermediary between your device and the internet. When connected, your internet traffic is routed through this server. The server assigns you a new IP address, masking your real IP and location. This is why many users <a href="https://myipnow.net/hide-my-ip">use a VPN for privacy</a>‚Äîto prevent websites and services from tracking their true IP address.</p>
<h2>Step-by-Step: How a VPN Works in Practice</h2>
<p>To fully grasp the VPN process, consider the following sequence:</p>
<ul>
<li><strong>Connection Initiation:</strong> You launch your VPN client and select a server location.</li>
<li><strong>Authentication:</strong> Your device authenticates with the VPN server using credentials or certificates.</li>
<li><strong>Encryption Setup:</strong> The VPN client and server negotiate encryption keys using the chosen tunneling protocol.</li>
<li><strong>Data Encapsulation:</strong> Your outgoing internet traffic is encrypted and encapsulated into VPN packets.</li>
<li><strong>Data Transmission:</strong> These encrypted packets travel through your ISP‚Äôs network to the VPN server.</li>
<li><strong>Decryption and Forwarding:</strong> The VPN server decrypts the packets and forwards the original requests to the internet.</li>
<li><strong>Response Handling:</strong> Incoming data from websites or services is sent back to the VPN server, encrypted, and then forwarded to your device.</li>
<li><strong>Decryption on Device:</strong> Your VPN client decrypts the incoming data, making it readable.</li>
</ul>
<h2>How VPNs Enhance Privacy and Security</h2>
<p>VPNs provide multiple layers of protection that contribute to online privacy and cybersecurity:</p>
<h3>IP Address Masking</h3>
<p>Your IP address is a unique identifier that reveals your approximate location and ISP. By connecting to a VPN server, your real IP is replaced with the server‚Äôs IP. This makes it difficult for websites, advertisers, and trackers to profile or geo-locate you.</p>
<h3>Data Encryption</h3>
<p>Encryption prevents eavesdropping on your internet traffic, especially important when using unsecured public Wi-Fi networks. Without encryption, attackers can intercept sensitive data such as passwords, emails, and financial information.</p>
<h3>Bypassing Censorship and Geo-Restrictions</h3>
<p>VPNs allow users to circumvent government censorship or access region-locked content by routing traffic through servers in different countries. This capability is essential for journalists, activists, and anyone needing unrestricted internet access.</p>
<h3>Protection Against ISP Tracking</h3>
<p>ISPs often monitor user activity for data collection or throttling purposes. A VPN encrypts your traffic, preventing ISPs from seeing the websites you visit or the content you access.</p>
<h2>Common VPN Use Cases</h2>
<ul>
<li><strong>Secure Remote Work:</strong> Employees connect to corporate networks securely from remote locations.</li>
<li><strong>Privacy-Conscious Browsing:</strong> Individuals seeking to protect their online identity and data.</li>
<li><strong>Accessing Restricted Content:</strong> Streaming services, social media, and websites blocked in certain regions.</li>
<li><strong>Safe Public Wi-Fi Usage:</strong> Protecting sensitive data on unsecured networks.</li>
</ul>
<h2>Limitations and Considerations When Using a VPN</h2>
<p>While VPNs offer significant privacy and security benefits, they are not a silver bullet:</p>
<ul>
<li><strong>Trust in VPN Provider:</strong> Your VPN provider can see your traffic if they log data. Choosing a no-log, reputable provider is crucial.</li>
<li><strong>Performance Impact:</strong> Encryption and routing can reduce internet speed and increase latency.</li>
<li><strong>Not Complete Anonymity:</strong> VPNs do not protect against all forms of tracking, such as browser fingerprinting or malware.</li>
<li><strong>Legal and Policy Restrictions:</strong> Some countries restrict or ban VPN usage.</li>
</ul>
<h2>Technical Deep Dive: Encryption and Protocols</h2>
<p>VPN encryption typically uses symmetric encryption algorithms like AES (Advanced Encryption Standard) with 128-bit or 256-bit keys. The key exchange is handled via asymmetric cryptography (e.g., RSA or Elliptic Curve Cryptography) during the handshake phase. This combination ensures both secure key distribution and fast data encryption.</p>
<p>Protocols like WireGuard simplify the codebase and use modern cryptographic primitives such as ChaCha20 for encryption and Poly1305 for authentication, offering improved speed and security compared to legacy protocols.</p>
<h2>VPN and IP Address: How They Interact</h2>
<p>When you connect to a VPN to hide your IP, your device‚Äôs original IP address is replaced by the VPN server‚Äôs IP. This process is fundamental to maintaining anonymity and bypassing geo-blocks. However, it‚Äôs important to note that DNS leaks or WebRTC leaks can expose your real IP if the VPN client or browser is not properly configured.</p>
<h2>FAQ</h2>
<ul>
<li><strong>Q: Can a VPN make me completely anonymous online?</strong>
<p>A: No. While a VPN significantly enhances privacy by masking your IP and encrypting traffic, it does not prevent all tracking methods such as browser fingerprinting or malware-based tracking.</p>
</li>
<li><strong>Q: Does using a VPN slow down my internet?</strong>
<p>A: Some speed reduction is typical due to encryption overhead and routing through VPN servers, but high-quality VPNs minimize this impact.</p>
</li>
<li><strong>Q: Is it legal to use a VPN?</strong>
<p>A: In most countries, VPN use is legal. However, some nations restrict or ban VPNs, so users should verify local laws.</p>
</li>
<li><strong>Q: How do I choose a reliable VPN provider?</strong>
<p>A: Look for providers with a strict no-logs policy, strong encryption standards, transparent privacy policies, and positive independent audits.</p>
</li>
<li><strong>Q: Can I use a VPN to hide my IP on all devices?</strong>
<p>A: Yes, most VPN providers offer apps for multiple platforms, allowing you to use a VPN to hide your IP across smartphones, tablets, and computers.</p>
</li>
</ul><section class="see-also"><h2>See Also</h2><ul><li><a href="https://myipnow.net/does-vpn-hide-ip-address">Does VPN Hide Ip Address</a></li><li><a href="https://myipnow.net/vpn-for-public-wifi">VPN For Public Wifi</a></li><li><a href="https://myipnow.net/vpn-vs-tor">VPN Vs Tor</a></li><li><a href="https://myipnow.net/why-use-a-vpn">Why Use A VPN</a></li></ul></section></article><footer class="footer">
<ul class="footer-nav">
<li>
<a href="https://myipnow.net/about">
       About
      </a>
</li>
<li>
<a href="https://myipnow.net/contact">
       Contact
      </a>
</li>
<li>
<a href="https://myipnow.net/privacy-policy">
       Privacy Policy
      </a>
</li>
<li>
<a href="https://myipnow.net/terms-of-use">
       Terms of Use
      </a>
</li>
<li>
<a href="https://myipnow.net/affiliate-disclosure">
       Affiliate Disclosure
      </a>
</li>
</ul>
<div class="footer-copyright">
     ¬© 2026 MyIPNow. All Rights Reserved.
    </div>
</footer></div>
<script id="article-return-v3">
(function(){
  var KEY='catStateV3'; // { url, scroll }
  var CAT_RE=/^\/(online-safety|online-privacy|networking|ip-addresses|home-computing|general-topics)\//;

  function init(){
    var btn = document.getElementById('returnToCategory');
    if (!btn) return;

    var raw = null, url=null;
    try {
      raw = sessionStorage.getItem(KEY);
      if (raw){
        var st = JSON.parse(raw);
        url = st && st.url;
      }
    } catch(e){}

    // If we have a stored category URL, use it
    if (url && CAT_RE.test(url)) {
      btn.setAttribute('href', url);
      return;
    }

    // Fallback: deduce category from article path and use /<cat>/index
    var parts = location.pathname.split('/').filter(Boolean);
    if (parts.length > 0) {
      var cat = '/' + parts[0] + '/';
      if (CAT_RE.test(cat)) {
        btn.setAttribute('href', cat + 'index');
      }
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>
<script id="mobile-header-fix-final">
(function(){
  const tools = document.querySelector('.nav-tools');
  if(!tools) return;
  const trigger = tools.querySelector(':scope > a');
  const dropdown = tools.querySelector(':scope > ul');
  if(!trigger || !dropdown) return;

  let menu=null, backdrop=null, open=false;

  // Desktop hover
  tools.addEventListener('mouseenter',()=>{ if(window.innerWidth>768) dropdown.style.display='block'; });
  tools.addEventListener('mouseleave',()=>{ if(window.innerWidth>768) dropdown.style.display='none'; });

  function closeMenu(){
    if(menu){ menu.remove(); menu=null; }
    if(backdrop){ backdrop.remove(); backdrop=null; }
    dropdown.style.display='none';
    document.body.classList.remove('menu-open');
    open=false;
  }

  function openMenu(e){
    e.preventDefault(); e.stopPropagation();
    if(window.innerWidth>768) return;

    dropdown.style.display='none'; // hide original header dropdown

    if(open){ closeMenu(); return; }

    const rect = trigger.getBoundingClientRect();
    backdrop = document.createElement('div');
    Object.assign(backdrop.style,{
      position:'fixed',top:0,left:0,width:'100vw',height:'100vh',
      background:'transparent',zIndex:9998
    });
    backdrop.addEventListener('click', closeMenu);
    document.body.appendChild(backdrop);

    menu = dropdown.cloneNode(true);
    Object.assign(menu.style,{
      position:'absolute',
      top:`${rect.bottom + window.scrollY + 8}px`,
      left:`${rect.left + window.scrollX}px`,
      minWidth:`${Math.max(rect.width,200)}px`,
      background:'#fff',
      border:'1px solid #e2e8f0',
      borderRadius:'10px',
      boxShadow:'0 10px 30px rgba(0,0,0,0.15)',
      listStyle:'none',
      padding:'.5rem 0',
      margin:0,
      zIndex:9999,
      maxHeight:'70vh',
      overflowY:'auto',
      display:'block',        /* ‚úÖ ensures visible */
      visibility:'visible',   /* ‚úÖ fixes Safari hover ghost */
      opacity:'1'             /* ‚úÖ fully visible */
    });
    menu.querySelectorAll('a').forEach(a=>{
      a.style.display='block';
      a.style.padding='.6rem 1.2rem';
      a.style.color='#1e293b';
      a.style.textDecoration='none';
      a.style.fontWeight='500';
      a.addEventListener('mouseenter',()=>a.style.color='#4f46e5');
      a.addEventListener('mouseleave',()=>a.style.color='#1e293b');
    });

    document.body.appendChild(menu);
    document.body.classList.add('menu-open');
    open=true;
  }

  window.addEventListener('scroll',()=>{ if(!open||!menu)return;
    const rect=trigger.getBoundingClientRect();
    menu.style.top=`${rect.bottom + window.scrollY + 8}px`;
    menu.style.left=`${rect.left + window.scrollX}px`;
  });
  window.addEventListener('resize',closeMenu);
  trigger.addEventListener('click',openMenu);
  trigger.addEventListener('touchstart',openMenu,{passive:false});
})();
</script>
</body>
</html>