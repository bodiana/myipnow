<!DOCTYPE html>

<html lang="en">
<head>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T6F8FV6T');</script>
<meta charset="utf-8"/>
<meta content="/width=device-width, initial-scale=1.0" name="viewport"/>
<title>IP Lookup Fields Explained ‚Äì Complete Reference. | MyIPNow</title>
<meta content="/IP Lookup Fields Explained ‚Äì Complete Reference. | MyIPNow" property="og:title"/>
<meta content="/IP Lookup Fields Explained ‚Äì Complete Reference. Learn more with MyIPNow. Accurate, fast, and privacy-focused internet tools" property="og:description"/>
<meta content="/website" property="og:type"/>
<meta content="/preview.png" property="og:image"/>
<meta content="https://myipnow.net/ip-lookup-fields" property="og:url"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<style>body {font-family: 'Inter', sans-serif; background: #f7f8f9; margin: 0; color: #1e293b; line-height: 1.7;}
    .container {max-width: 900px; margin: 0 auto; padding: 1rem;}
    .site-header {background: #fff; padding: 1rem; margin-bottom: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);}
    .header-top {display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e2e8f0;}
    .logo {font-size: 1.5rem; font-weight: 700; color: #1e293b; text-decoration: none;}
    .search-form {display: flex; flex-grow: 1; max-width: 400px;}
    .search-form input {width: 100%; padding: 0.75rem 1rem; border: 1px solid #e2e8f0; border-radius: 8px 0 0 8px; font-size: 0.9rem;}
    .search-form button {padding: 0.75rem 1rem; border: none; background: #10b981; color: white; border-radius: 0 8px 8px 0; cursor: pointer; font-weight: 500;}
    .category-nav {padding-top: 1rem;}
    .category-nav ul {display: flex; gap: 1.5rem; list-style: none; margin: 0; padding: 0; align-items: center; flex-wrap: wrap; justify-content: center !important;}

.nav-tools {position: relative;}
.nav-tools > a {cursor: default;}
.nav-tools ul {display: none; position: absolute; top: 100%; left: 0; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
.nav-tools ul li a {display: block; padding: .5rem 1rem; color: #1e293b; text-decoration: none;}
.nav-tools ul li a:hover {color: #4f46e5;}
.nav-tools:hover ul {display: block;}


@media(max-width:768px){.category-nav ul {
    overflow-x: auto; white-space: nowrap; padding-bottom: 10px;}

.nav-tools {position: relative;}
.nav-tools > a {cursor: default;}
.nav-tools ul {display: none; position: absolute; top: 100%; left: 0; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
.nav-tools ul li a {display: block; padding: .5rem 1rem; color: #1e293b; text-decoration: none;}
.nav-tools ul li a:hover {color: #4f46e5;}
.nav-tools:hover ul {display: block;}

}

.category-nav a {text-decoration: none; color: var(--text-primary); font-size: 0.9rem; font-weight: 500; transition: color var(--transition-speed);}

.category-nav a:hover {color: var(--accent-color);}
    .page-header {background: #fff; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem; text-align: center;}
    .page-header h1 {font-size: 2.2rem; margin: 0 0 0.5rem;}
    .page-header p {font-size: 1rem; color: #64748b; margin: 0;}
    .article-body {background: #fff; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem;}
    .article-body h2 {margin-top: 2rem; font-size: 1.5rem;}
    .article-body h3 {margin-top: 1.2rem; font-size: 1.2rem;}
    .related {background: #fff; padding: 1.5rem; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); margin-bottom: 2rem;}
    .related h3 {margin-top: 0;}
    .related ul {list-style: none; padding: 0;}
    .related li {margin-bottom: 0.5rem;}
    .related a {text-decoration: none; color: #4f46e5;}
    .article-pagination {display: flex; justify-content: space-between; gap: 1rem; margin-bottom: 2rem;}
    .article-pagination a {background: #fff; padding: 0.75rem 1rem; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-decoration: none; color: #1e293b; font-weight: 500;}
    .article-pagination a:hover {background: #4f46e5; color: white;}
    .footer {text-align: center; padding: 2rem 1rem; margin: 2rem auto 0; background: #fff; border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08);}
    .footer-nav {display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem 1.5rem; list-style: none; padding: 0; margin: 0 0 1rem;}
    .footer-nav a {color: #64748b; text-decoration: none; font-size: 0.9rem;}
    .footer-nav a:hover {color: #4f46e5;}
    .footer-copyright {font-size: 0.85rem; color: #64748b;}
   

.related-grid {display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1rem;}
.related-card {display: flex; flex-direction: column; background: #f9fafb; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.05); transition: transform 0.2s ease;}
.related-card:hover {transform: translateY(-4px);}
.related-card img {width: 100%; height: 140px; object-fit: cover;}
.related-card-content {padding: 1rem;}
.related-card-content h4 {margin: 0 0 0.5rem; font-size: 1rem;}
.related-card-content p {font-size: 0.9rem; color: #64748b; margin: 0;}
.related-card-content a {text-decoration: none; color: #4f46e5; font-weight: 600;}
.related-card-content a:hover {color: #1e293b;}</style>
<style>.nav {text-align: center !important;}
.nav li {display: inline-block !important; float: none !important;}</style>
<script async="" crossorigin="anonymous" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1226342433058379"></script>
<style>@media (max-width: 768px) {.category-nav {
    overflow-x: auto; -webkit-overflow-scrolling: touch; scroll-behavior: smooth; padding-bottom: 10px;}
  .category-nav ul {display: inline-flex; flex-wrap: nowrap; white-space: nowrap; gap: 1.2rem; list-style: none; margin: 0; padding: 0 1rem;}
  .category-nav::-webkit-scrollbar {height: 6px;}
  .category-nav::-webkit-scrollbar-thumb {background: #cbd5e1; border-radius: 4px;}
  .nav-tools ul {display: none; position: absolute; top: 100%; left: 0; right: auto; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); list-style: none; padding: .5rem 0; margin: 0; min-width: 220px; z-index: 999;}
  .nav-tools.open ul {display: block;}
}</style>
<style>@media (max-width: 768px) {.nav-tools {
    position: static !important;}
  .nav-tools ul {position: fixed !important; top: 60px !important; left: 10px; right: 10px; display: none; background: #fff; border: 1px solid #e2e8f0; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); z-index: 10000;}
  .nav-tools.open ul {display: block !important;}
  body.menu-open {overflow: hidden;}
}</style>
<link href="https://myipnow.net/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="https://myipnow.net/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="https://myipnow.net/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"/>
<link href="https://myipnow.net/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="https://myipnow.net/android-chrome-192x192.png" rel="icon" sizes="192x192" type="image/png"/>
<link href="https://myipnow.net/android-chrome-512x512.png" rel="icon" sizes="512x512" type="image/png"/>
<link href="https://myipnow.net/favicon.ico" rel="shortcut icon"/>
<meta content="#ffffff" name="theme-color"/>
<meta content="/IP Lookup Fields Explained ‚Äì Complete Reference. Learn more with MyIPNow. Accurate, fast, and privacy-focused internet tools" name="description"/>
<link href="https://myipnow.net/ip-lookup-fields" rel="canonical"/>
<style>.article-body .callout{padding: 14px 16px; border: 1px solid rgba(148,163,184,.35); border-radius: 12px; margin: 18px 0 22px; background: rgba(248,250,252,.6);}
.article-body .actions{display: flex; gap: 10px; flex-wrap: wrap; margin: 14px 0 10px;}
.article-body .btn{display: inline-block; padding: 10px 14px; border-radius: 12px; text-decoration: none; border: 1px solid rgba(148,163,184,.35); font-weight: 600;}
.article-body .btn.btn-secondary{background: transparent; cursor: pointer;}
.article-body .table-wrap{overflow-x: auto;}
.article-body table.ref-table{width: 100%; border-collapse: separate; border-spacing: 0 14px; margin: 18px 0 26px;}
.article-body table.ref-table th,
.article-body table.ref-table td{padding: 12px 14px; text-align: left; vertical-align: top;}
.article-body table.ref-table thead th{background: rgba(241,245,249,.9); border-bottom: 1px solid rgba(148,163,184,.35);}
.article-body table.ref-table tbody td{background: rgba(255,255,255,.65); border: 1px solid rgba(148,163,184,.25);}
.article-body table.ref-table tbody tr td:first-child{border-top-left-radius: 12px; border-bottom-left-radius: 12px;}
.article-body table.ref-table tbody tr td:last-child{border-top-right-radius: 12px; border-bottom-right-radius: 12px;}
.article-body .badge{display: inline-block; padding: 4px 10px; border-radius: 999px; border: 1px solid rgba(148,163,184,.35); background: rgba(248,250,252,.8); font-weight: 600; white-space: nowrap;}
.article-body p, .article-body ul{margin-bottom: 1.2rem;}
.article-body li{margin-bottom: .45rem;}</style>
<script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"Organization","name":"MyIPNow","url":"https://myipnow.net/"},{"@type":"WebSite","name":"MyIPNow","url":"https://myipnow.net/"},{"@type":"WebPage","name":"IP Lookup Fields Explained ‚Äì Complete Reference. | MyIPNow","description":"IP Lookup Fields Explained ‚Äì Complete Reference. Learn more with MyIPNow. Accurate, fast, and privacy-focused internet tools.","url":"https://myipnow.net/ip-lookup-fields/","inLanguage":"en","dateModified":"2026-01-02","mainEntityOfPage":"https://myipnow.net/ip-lookup-fields/","@id":"https://myipnow.net/ip-lookup-fields/"},{"@type":"Dataset","name":"IP Lookup Fields Reference (2026)","description":"Tabular reference explaining common IP lookup fields, their sources, and typical accuracy.","creator":{"@type":"Organization","name":"MyIPNow","url":"https://myipnow.net/"},"datePublished":"2026-01-01","dateModified":"2026-01-02","distribution":[{"@type":"DataDownload","encodingFormat":"text/csv","contentUrl":"https://myipnow.net/data/ip-lookup-fields-explained.csv"},{"@type":"DataDownload","encodingFormat":"text/html","contentUrl":"https://myipnow.net/ip-lookup-fields-explained/"}]},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://myipnow.net/"},{"@type":"ListItem","position":2,"name":"IP Lookup Fields Explained ‚Äì Complete Reference. | MyIPNow","item":"https://myipnow.net/ip-lookup-fields/"}]}]}</script>
</head>
<body>
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns?id=GTM-T6F8FV6T" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<div class="container"><header class="site-header">
<div class="header-top">
<a class="logo" href="https://myipnow.net/">üåê MyIPNow</a>
<form action="/search.html" class="search-form" method="get">
<input aria-label="Search articles" name="q" placeholder="Search..." type="search"/>
<button type="submit">Search</button>
</form>
</div>
<nav aria-label="Article Categories" class="category-nav">
<ul>
<li class="nav-tools"><a href="https://myipnow.net/#">Tools ‚ñæ</a>
<ul>
<li><a href="https://myipnow.net/">IP Lookup</a></li>
<li><a href="https://myipnow.net/dns-lookup">DNS Lookup</a></li>
<li><a href="https://myipnow.net/whois-lookup">WHOIS Lookup</a></li>
<li><a href="https://myipnow.net/internet-speed-test">Internet Speed Test</a></li>
<li><a href="https://myipnow.net/generate-password">Generate Password</a></li>
<li><a href="https://myipnow.net/ip-blacklist">IP Blacklist</a></li>
</ul>
</li>
<li><a href="https://myipnow.net/online-safety/">Online Safety</a></li>
<li><a href="https://myipnow.net/online-privacy/">Online Privacy</a></li>
<li><a href="https://myipnow.net/networking/">Networking</a></li>
<li><a href="https://myipnow.net/ip-addresses/">IP Addresses</a></li>
<li><a href="https://myipnow.net/home-computing/">Home Computing</a></li>
<li><a href="https://myipnow.net/general-topics/">General Topics</a></li>
</ul>
</nav>
</header>
<header class="page-header">
<h1>IP Lookup Fields Explained ‚Äì Complete Reference</h1>
<p>A documentation-style reference that explains the most common fields shown in IP lookup results, including where the data comes from and how accurate it typically is. <strong>Updated: January 2026</strong></p>
</header>
<article class="article-body">
<div class="callout">
<p><strong>Quick link:</strong> Want to see these fields on your own IP (or any public IP)? Use the <a href="https://myipnow.net/">MyIPNow IP Lookup</a>.</p>
</div>
<h2>IP lookup fields reference</h2>
<p>
An IP lookup returns metadata about an IP address: who announces it on the internet (ASN),
who it is registered to (organization/WHOIS), and approximate location and reputation signals.
This page explains each common field, including typical accuracy and pitfalls.
</p>
<div class="actions">
<a class="btn" download="" href="https://myipnow.net/data/ip-lookup-fields-explained.csv/">Download CSV</a>
<button class="btn btn-secondary" id="downloadTableBtn" type="button">Download table (CSV)</button>
</div>
<div class="table-wrap">
<table aria-label="IP lookup fields reference table" class="ref-table" id="fieldsTable">
<thead>
<tr>
<th style="width:15%;">Field</th>
<th style="width:25%;">What it means</th>
<th style="width:20%;">Common data source</th>
<th style="width:12%;">Accuracy</th>
<th style="width:28%;">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>IP Address</strong></td>
<td>The queried IPv4 or IPv6 address.</td>
<td>Network layer</td>
<td><span class="badge">Exact</span></td>
<td>IPv6 may be compressed (shortened) in display.</td>
</tr>
<tr>
<td><strong>IP Version</strong></td>
<td>Whether the address is IPv4 or IPv6.</td>
<td>Network layer</td>
<td><span class="badge">Exact</span></td>
<td>Some users have both (dual-stack).</td>
</tr>
<tr>
<td><strong>ISP</strong></td>
<td>Service provider associated with the IP allocation.</td>
<td>RIR WHOIS + commercial datasets</td>
<td><span class="badge">High</span></td>
<td>Often shows carrier or upstream provider.</td>
</tr>
<tr>
<td><strong>Organization</strong></td>
<td>Entity that owns/uses the IP range.</td>
<td>RIR WHOIS</td>
<td><span class="badge">High</span></td>
<td>May differ from the ISP brand name.</td>
</tr>
<tr>
<td><strong>ASN</strong></td>
<td>Autonomous System Number announcing the IP via BGP.</td>
<td>BGP routing data</td>
<td><span class="badge">Very high</span></td>
<td>Usually the most reliable ownership/routing field.</td>
</tr>
<tr>
<td><strong>AS Name</strong></td>
<td>Human-readable name for the ASN.</td>
<td>BGP/RIR</td>
<td><span class="badge">High</span></td>
<td>May be abbreviated or outdated.</td>
</tr>
<tr>
<td><strong>Country</strong></td>
<td>Country associated with the IP.</td>
<td>GeoIP databases + RIR hints</td>
<td><span class="badge">High</span></td>
<td>Country-level is typically the most accurate location field.</td>
</tr>
<tr>
<td><strong>Region/State</strong></td>
<td>Region/state associated with the IP.</td>
<td>GeoIP databases</td>
<td><span class="badge">Medium</span></td>
<td>Can lag behind reassignment or routing changes.</td>
</tr>
<tr>
<td><strong>City</strong></td>
<td>Estimated city associated with the IP.</td>
<td>GeoIP databases</td>
<td><span class="badge">Low‚ÄìMedium</span></td>
<td>Often wrong; do not treat as precise.</td>
</tr>
<tr>
<td><strong>Latitude/Longitude</strong></td>
<td>Approximate coordinates derived from GeoIP.</td>
<td>GeoIP databases</td>
<td><span class="badge">Low</span></td>
<td>Not GPS‚Äîoften points to ISP hubs or city centers.</td>
</tr>
<tr>
<td><strong>Timezone</strong></td>
<td>Timezone inferred from the location fields.</td>
<td>GeoIP databases</td>
<td><span class="badge">Medium</span></td>
<td>Depends on location accuracy.</td>
</tr>
<tr>
<td><strong>Postal Code</strong></td>
<td>Estimated postal code (if provided).</td>
<td>GeoIP databases</td>
<td><span class="badge">Low</span></td>
<td>Commonly missing or inaccurate.</td>
</tr>
<tr>
<td><strong>Hostname (rDNS)</strong></td>
<td>Reverse DNS name mapped to the IP.</td>
<td>Reverse DNS (PTR)</td>
<td><span class="badge">Medium</span></td>
<td>Often empty; depends on provider configuration.</td>
</tr>
<tr>
<td><strong>IP Type</strong></td>
<td>Residential / Mobile / Hosting / Proxy classification.</td>
<td>Heuristics + network metadata</td>
<td><span class="badge">Medium</span></td>
<td>Different providers may classify differently.</td>
</tr>
<tr>
<td><strong>Proxy/VPN</strong></td>
<td>Whether traffic appears to come from a proxy/VPN.</td>
<td>Reputation signals</td>
<td><span class="badge">Medium</span></td>
<td>False positives are possible.</td>
</tr>
<tr>
<td><strong>Blacklist Status</strong></td>
<td>Whether the IP appears in public blocklists.</td>
<td>DNSBL/RBL sources</td>
<td><span class="badge">High</span></td>
<td>Results depend on which lists are checked.</td>
</tr>
<tr>
<td><strong>Abuse Category</strong></td>
<td>Likely abuse type: spam, proxy, malware, etc.</td>
<td>Reputation datasets</td>
<td><span class="badge">Medium</span></td>
<td>Best used as a hint, not proof.</td>
</tr>
<tr>
<td><strong>Connection Type</strong></td>
<td>Broadband, mobile, datacenter, etc. (if available).</td>
<td>ISP + heuristics</td>
<td><span class="badge">Medium</span></td>
<td>May be missing.</td>
</tr>
</tbody>
</table>
</div>
<h2>How accurate are IP lookup results?</h2>
<ul>
<li><strong>Country</strong> is usually the most reliable location field.</li>
<li><strong>City and coordinates</strong> are estimates and can be wrong‚Äîoften by hundreds of kilometers.</li>
<li><strong>ASN</strong> is typically the most reliable ownership/routing indicator.</li>
<li><strong>ISP/Organization names</strong> can be branded differently than the legal registrant.</li>
<li><strong>Proxy/VPN and blacklist signals</strong> are useful hints but can produce false positives.</li>
</ul>
<h2>Related tools</h2>
<ul class="tool-links">
<li><a href="https://myipnow.net/">IP Lookup</a></li>
<li><a href="https://myipnow.net/ip-blacklist">IP Blacklist Check</a></li>
<li><a href="https://myipnow.net/whois-lookup">WHOIS Lookup</a></li>
<li><a href="https://myipnow.net/dns-lookup">DNS Lookup</a></li>
</ul>
<h2>Resources and standards</h2>
<ul>
<li><a href="https://www.iana.org/assignments/ipv4-address-space/ipv4-address-space.xhtml" rel="nofollow noopener" target="_blank">IANA IPv4 Address Space</a></li>
<li><a href="https://www.iana.org/assignments/ipv6-address-space/ipv6-address-space.xhtml" rel="nofollow noopener" target="_blank">IANA IPv6 Address Space</a></li>
<li><a href="https://www.arin.net/resources/" rel="nofollow noopener" target="_blank">ARIN resources</a></li>
<li><a href="https://www.ripe.net/manage-ips-and-asns/" rel="nofollow noopener" target="_blank">RIPE NCC resources</a></li>
<li><a href="https://www.apnic.net/manage-ip/" rel="nofollow noopener" target="_blank">APNIC resources</a></li>
<li><a href="https://datatracker.ietf.org/doc/html/rfc791" rel="nofollow noopener" target="_blank">RFC 791 (IPv4)</a></li>
<li><a href="https://datatracker.ietf.org/doc/html/rfc8200" rel="nofollow noopener" target="_blank">RFC 8200 (IPv6)</a></li>
</ul>
</article>
<script>
(function() {
  function tableToCSV(table) {
    const rows = Array.from(table.querySelectorAll("tr"));
    return rows.map(row => {
      const cols = Array.from(row.querySelectorAll("th,td"));
      return cols.map(col => {
        const text = col.innerText.replace(/\s+/g, " ").trim();
        const esc = text.replace(/"/g, '""');
        return `"${esc}"`;
      }).join(",");
    }).join("\n");
  }

  const btn = document.getElementById("downloadTableBtn");
  const table = document.getElementById("fieldsTable");
  if (btn && table) {
    btn.addEventListener("click", function() {
      const csv = tableToCSV(table);
      const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "ip-lookup-fields-explained.csv";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    });
  }
})();
</script>
<footer class="footer">
<ul class="footer-nav">
<li>
<a href="https://myipnow.net/about">
       About
      </a>
</li>
<li>
<a href="https://myipnow.net/contact">
       Contact
      </a>
</li>
<li>
<a href="https://myipnow.net/privacy-policy">
       Privacy Policy
      </a>
</li>
<li>
<a href="https://myipnow.net/terms-of-use">
       Terms of Use
      </a>
</li>
<li>
<a href="https://myipnow.net/affiliate-disclosure">
       Affiliate Disclosure
      </a>
</li>
</ul>
<div class="footer-copyright">
     ¬© 2026 MyIPNow. All Rights Reserved.
    </div>
</footer></div>
<script id="article-return-v3">
(function(){
  var KEY='catStateV3'; // { url, scroll }
  var CAT_RE=/^\/(online-safety|online-privacy|networking|ip-addresses|home-computing|general-topics)\//;

  function init(){
    var btn = document.getElementById('returnToCategory');
    if (!btn) return;

    var raw = null, url=null;
    try {
      raw = sessionStorage.getItem(KEY);
      if (raw){
        var st = JSON.parse(raw);
        url = st && st.url;
      }
    } catch(e){}

    // If we have a stored category URL, use it
    if (url && CAT_RE.test(url)) {
      btn.setAttribute('href', url);
      return;
    }

    // Fallback: deduce category from article path and use /<cat>/index
    var parts = location.pathname.split('/').filter(Boolean);
    if (parts.length > 0) {
      var cat = '/' + parts[0] + '/';
      if (CAT_RE.test(cat)) {
        btn.setAttribute('href', cat + 'index');
      }
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>
<script id="mobile-header-fix-final">
(function(){
  const tools = document.querySelector('.nav-tools');
  if(!tools) return;
  const trigger = tools.querySelector(':scope > a');
  const dropdown = tools.querySelector(':scope > ul');
  if(!trigger || !dropdown) return;

  let menu=null, backdrop=null, open=false;

  // Desktop hover
  tools.addEventListener('mouseenter',()=>{ if(window.innerWidth>768) dropdown.style.display='block'; });
  tools.addEventListener('mouseleave',()=>{ if(window.innerWidth>768) dropdown.style.display='none'; });

  function closeMenu(){
    if(menu){ menu.remove(); menu=null; }
    if(backdrop){ backdrop.remove(); backdrop=null; }
    dropdown.style.display='none';
    document.body.classList.remove('menu-open');
    open=false;
  }

  function openMenu(e){
    e.preventDefault(); e.stopPropagation();
    if(window.innerWidth>768) return;

    dropdown.style.display='none'; // hide original header dropdown

    if(open){ closeMenu(); return; }

    const rect = trigger.getBoundingClientRect();
    backdrop = document.createElement('div');
    Object.assign(backdrop.style,{
      position:'fixed',top:0,left:0,width:'100vw',height:'100vh',
      background:'transparent',zIndex:9998
    });
    backdrop.addEventListener('click', closeMenu);
    document.body.appendChild(backdrop);

    menu = dropdown.cloneNode(true);
    Object.assign(menu.style,{
      position:'absolute',
      top:`${rect.bottom + window.scrollY + 8}px`,
      left:`${rect.left + window.scrollX}px`,
      minWidth:`${Math.max(rect.width,200)}px`,
      background:'#fff',
      border:'1px solid #e2e8f0',
      borderRadius:'10px',
      boxShadow:'0 10px 30px rgba(0,0,0,0.15)',
      listStyle:'none',
      padding:'.5rem 0',
      margin:0,
      zIndex:9999,
      maxHeight:'70vh',
      overflowY:'auto',
      display:'block',        /* ‚úÖ ensures visible */
      visibility:'visible',   /* ‚úÖ fixes Safari hover ghost */
      opacity:'1'             /* ‚úÖ fully visible */
    });
    menu.querySelectorAll('a').forEach(a=>{
      a.style.display='block';
      a.style.padding='.6rem 1.2rem';
      a.style.color='#1e293b';
      a.style.textDecoration='none';
      a.style.fontWeight='500';
      a.addEventListener('mouseenter',()=>a.style.color='#4f46e5');
      a.addEventListener('mouseleave',()=>a.style.color='#1e293b');
    });

    document.body.appendChild(menu);
    document.body.classList.add('menu-open');
    open=true;
  }

  window.addEventListener('scroll',()=>{ if(!open||!menu)return;
    const rect=trigger.getBoundingClientRect();
    menu.style.top=`${rect.bottom + window.scrollY + 8}px`;
    menu.style.left=`${rect.left + window.scrollX}px`;
  });
  window.addEventListener('resize',closeMenu);
  trigger.addEventListener('click',openMenu);
  trigger.addEventListener('touchstart',openMenu,{passive:false});
})();
</script>
</body>
</html>